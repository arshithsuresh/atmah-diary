import{$ as A,$a as T,A as pe,Aa as zt,Da as be,Ea as De,F as I,G as et,Ga as Ee,Ha as we,I as Mt,J as m,Ja as xt,K as W,Ka as Oe,L as E,La as xe,M as z,N as l,Na as Fe,O as fe,Oa as ht,P as nt,Pa as Ve,Q as p,Qa as Z,R as Y,S as Q,T as me,U as qt,Ua as Se,V as it,Va as Pe,W as rt,X as ge,Y as x,Z as ye,Za as Ie,_ as Kt,a as C,aa as V,ab as Ae,b as w,ba as M,bb as Ft,c as Bn,ca as lt,cb as Re,d as se,db as ke,e as O,ea as b,f as ae,fa as Wt,fb as X,ga as dt,gb as Ne,ha as y,ia as bt,ja as u,k as ce,ka as d,la as g,ma as ut,n as P,na as v,o as Gt,oa as L,p as le,pa as _e,q as Ht,qa as ve,r as vt,ra as Dt,s as de,sa as Et,ta as wt,ua as k,v as tt,va as Ce,w as ue,wa as Ot,x as he,xa as N,y as Ct,ya as Me,z as $t}from"./chunk-4JE6TP2Z.js";var Ln=["*"],Te=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=p({type:e,selectors:[["atmah-full-page-container"]],standalone:!0,features:[N],ngContentSelectors:Ln,decls:1,vars:0,template:function(i,o){i&1&&(_e(),ve(0))},styles:["[_nghost-%COMP%]{width:100vw;height:100vh}"]});let t=e;return t})();var qe=(()=>{let e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(i){return new(i||e)(M(lt),M(Kt))},e.\u0275dir=Q({type:e});let t=e;return t})(),Un=(()=>{let e=class e extends qe{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=x(e)))(o||e)}})(),e.\u0275dir=Q({type:e,features:[b]});let t=e;return t})(),Ke=new E("");var Gn={provide:Ke,useExisting:Mt(()=>st),multi:!0};function Hn(){let t=zt()?zt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $n=new E(""),st=(()=>{let e=class e extends qe{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Hn())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(i){return new(i||e)(M(lt),M(Kt),M($n,8))},e.\u0275dir=Q({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&v("input",function(_){return o._handleInput(_.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(_){return o._compositionEnd(_.target.value)})},features:[Ot([Gn]),b]});let t=e;return t})();function qn(t){return t!=null&&typeof t.length=="number"}var We=new E(""),Kn=new E("");function Wn(t){return e=>qn(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function je(t){return null}function ze(t){return t!=null}function Ye(t){return Me(t)?ce(t):t}function Qe(t){let e={};return t.forEach(r=>{e=r!=null?C(C({},e),r):e}),Object.keys(e).length===0?null:e}function Ze(t,e){return e.map(r=>r(t))}function zn(t){return!t.validate}function Xe(t){return t.map(e=>zn(e)?e:r=>e.validate(r))}function Yn(t){if(!t)return null;let e=t.filter(ze);return e.length==0?null:function(r){return Qe(Ze(r,e))}}function Je(t){return t!=null?Yn(Xe(t)):null}function Qn(t){if(!t)return null;let e=t.filter(ze);return e.length==0?null:function(r){let n=Ze(r,e).map(Ye);return le(n).pipe(P(Qe))}}function tn(t){return t!=null?Qn(Xe(t)):null}function Be(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function en(t){return t._rawValidators}function nn(t){return t._rawAsyncValidators}function Yt(t){return t?Array.isArray(t)?t:[t]:[]}function St(t,e){return Array.isArray(t)?t.includes(e):t===e}function Le(t,e){let r=Yt(e);return Yt(t).forEach(i=>{St(r,i)||r.push(i)}),r}function Ue(t,e){return Yt(e).filter(r=>!St(t,r))}var Qt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Je(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}};var mt=class extends Qt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zt=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Zn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ar=w(C({},Zn),{"[class.ng-submitted]":"isSubmitted"}),It=(()=>{let e=class e extends Zt{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(M(mt,2))},e.\u0275dir=Q({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&bt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[b]});let t=e;return t})();var pt="VALID",Vt="INVALID",ot="PENDING",ft="DISABLED";function Xn(t){return(At(t)?t.validators:t)||null}function Jn(t){return Array.isArray(t)?Je(t):t||null}function ti(t,e){return(At(e)?e.asyncValidators:t)||null}function ei(t){return Array.isArray(t)?tn(t):t||null}function At(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Xt=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===pt}get invalid(){return this.status===Vt}get pending(){return this.status==ot}get disabled(){return this.status===ft}get enabled(){return this.status!==ft}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Le(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Le(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ue(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ue(e,this._rawAsyncValidators))}hasValidator(e){return St(this._rawValidators,e)}hasAsyncValidator(e){return St(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ot,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=ft,this.errors=null,this._forEachChild(n=>{n.disable(w(C({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(w(C({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=pt,this._forEachChild(n=>{n.enable(w(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(w(C({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pt||this.status===ot)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ft:pt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ot,this._hasOwnPendingAsyncValidator=!0;let r=Ye(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new A,this.statusChanges=new A}_calculateStatus(){return this._allControlsDisabled()?ft:this.errors?Vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ot)?ot:this._anyControlsHaveStatus(Vt)?Vt:pt}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){At(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Jn(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ei(this._rawAsyncValidators)}};var rn=new E("CallSetDisabledState",{providedIn:"root",factory:()=>Jt}),Jt="always";function ni(t,e,r=Jt){ri(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),si(t,e),ci(t,e),ai(t,e),ii(t,e)}function Ge(t,e,r=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),oi(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pt(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function ii(t,e){if(e.valueAccessor.setDisabledState){let r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function ri(t,e){let r=en(t);e.validator!==null?t.setValidators(Be(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let n=nn(t);e.asyncValidator!==null?t.setAsyncValidators(Be(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();Pt(e._rawValidators,i),Pt(e._rawAsyncValidators,i)}function oi(t,e){let r=!1;if(t!==null){if(e.validator!==null){let i=en(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(c=>c!==e.validator);o.length!==i.length&&(r=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=nn(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(c=>c!==e.asyncValidator);o.length!==i.length&&(r=!0,t.setAsyncValidators(o))}}}let n=()=>{};return Pt(e._rawValidators,n),Pt(e._rawAsyncValidators,n),r}function si(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&on(t,e)})}function ai(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&on(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function on(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ci(t,e){let r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function li(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function di(t){return Object.getPrototypeOf(t.constructor)===Un}function ui(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(o=>{o.constructor===st?r=o:di(o)?n=o:i=o}),i||n||r||null}function He(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function $e(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Rt=class extends Xt{constructor(e=null,r,n){super(Xn(r),ti(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),At(r)&&(r.nonNullable||r.initialValueIsDefault)&&($e(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){He(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){He(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$e(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sn=new E(""),hi={provide:mt,useExisting:Mt(()=>gt)},gt=(()=>{let e=class e extends mt{set isDisabled(n){}constructor(n,i,o,c,_){super(),this._ngModelWarningConfig=c,this.callSetDisabledState=_,this.update=new A,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=ui(this,o)}ngOnChanges(n){if(this._isControlChanged(n)){let i=n.form.previousValue;i&&Ge(i,this,!1),ni(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}li(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ge(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(M(We,10),M(Kn,10),M(Ke,10),M(sn,8),M(rn,8))},e.\u0275dir=Q({type:e,selectors:[["","formControl",""]],inputs:{form:[nt.None,"formControl","form"],isDisabled:[nt.None,"disabled","isDisabled"],model:[nt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ot([hi]),b,qt]});let t=e;return t})();function pi(t){return typeof t=="number"?t:parseInt(t,10)}var fi=(()=>{let e=class e{constructor(){this._validator=je}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):je,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Q({type:e,features:[qt]});let t=e;return t})();var mi={provide:We,useExisting:Mt(()=>te),multi:!0},te=(()=>{let e=class e extends fi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>pi(n),this.createValidator=n=>Wn(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=x(e)))(o||e)}})(),e.\u0275dir=Q({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&dt("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ot([mi]),b]});let t=e;return t})();var gi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=W({});let t=e;return t})();var kt=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:sn,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:rn,useValue:n.callSetDisabledState??Jt}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=W({imports:[gi]});let t=e;return t})();var h=Ve({source:"Diary Actions",events:{RegisterRecordableComponent:ht(),RecordEventAction:ht(),SetFocusRecordableComponent:ht(),RecordEventCompleted:Z(),SetNextRecordEvent:ht(),StartDiaryReplay:Z(),ResumeDiaryReplay:Z(),PauseDiaryReplay:Z(),StartRecording:Z(),StopRecording:Z(),DiaryReplayCompleted:Z()}});var ee="NULL";var at=class extends Error{};var cn=()=>new at("Recorder component id already in use."),ln=t=>new at(`No Recorder element specified for ${t}`),dn=t=>new at(`No form control specified for ${t}`);var R={componentId:"default-null-value",keyData:[]},yt=new Rt("default-null-form-control"),U="null component";var _i={registeredComponents:new Map,focusedComponent:ee,pageData:{dated:Date.now(),initialPageTitle:"Title Goes here...",pageEvents:[],pageIndex:0},currentRecordEventIndex:0,loading:!1},un=Ne(_i,X(h.recordEventAction,(t,{data:e})=>{let r=[...t.pageData.pageEvents,e];return w(C({},t),{pageData:w(C({},t.pageData),{pageEvents:r})})}),X(h.registerRecordableComponent,(t,{componentId:e,component:r})=>{let n=new Map(t.registeredComponents);if(n.has(e))throw cn();return n.set(e,!0),w(C({},t),{registeredComponents:n})}),X(h.setFocusRecordableComponent,(t,{componentId:e})=>t.registeredComponents.get(e)?w(C({},t),{focusedComponent:e}):(console.warn("Component not registered"),C({},t))),X(h.recordEventCompleted,t=>{let e=t.currentRecordEventIndex+1;return console.log("Next Record Event Index ",e),w(C({},t),{currentRecordEventIndex:e})}),X(h.setNextRecordEvent,(t,{data:e})=>w(C({},t),{focusedComponent:e.componentId})),X(h.startDiaryReplay,t=>{console.log("Start Diary Replay");let e=t.pageData.pageEvents[t.currentRecordEventIndex],r=e?e.componentId:U;return w(C({},t),{focusedComponent:r})}),X(h.diaryReplayCompleted,t=>(console.log("Diary Replay Completed"),w(C({},t),{currentRecordEventIndex:0,focusedComponent:ee}))));var G=Re({name:"diary",reducer:un,extraSelectors:({selectDiaryState:t,selectPageData:e})=>{let r=Ft(e,o=>o.pageIndex),n=Ft(e,o=>o.pageEvents),i=Ft(t,o=>{let c=o.currentRecordEventIndex;return o.pageData.pageEvents.at(c)??R});return{selectPageIndex:r,selectPageEvents:n,selectRecordEvent:i}}});var j=(()=>{let e=class e{constructor(){this._canRecord=new ae(!1),this._destroyed=new O,this._newRecordEvent=new O,this.newRecordEvent$=this._newRecordEvent.asObservable(),this.canRecord$=this._canRecord.pipe(I(this._destroyed))}get isRecording(){return this._canRecord.value}nextRecordEvent(n,i,o){this._newRecordEvent.next({component:n,key:{k:i,w:o}})}startRecording(){this._canRecord.next(!0)}stopRecording(){this._canRecord.next(!1)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var F=(()=>{let e=class e{set speed(n){console.log(`New Speed ${this.speedControl(n)}`),this.speedX=this.speedControl(n)}get $recordEventCompleted(){return this._recordEventCompleted.asObservable()}get speed(){return this.speedX}get paused(){return this.isPaused}get hasRecordEvent(){return this.recordEvent!=R}get hasFormControl(){return this.control!=yt}constructor(){this.speedX=1,this._isPaused=new O,this.isPaused=!0,this.recordEvent=R,this.control=yt,this._destroyed=new O,this._recordEventCompleted=new O,this.destroyed$=this._destroyed.asObservable(),this._isPaused$=this._isPaused.pipe(I(this.destroyed$)),this._isPaused$.subscribe(n=>{this.isPaused=n,n||this.startReplay()})}recordEventCompleted(){this._recordEventCompleted.next()}setRecordEvent(n,i=!0){this.recordEvent=n,i&&this.startReplay()}fastForward(){this.speed*=2}fastBackward(){this.speed/=2}play(){console.log("Resumed Playing!"),this._isPaused.next(!1)}pauseReplay(){console.log("Paused Playing!"),this._isPaused.next(!0)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var J=new E("CAN RECORD AND EDIT");var Nt=(()=>{let e=class e{constructor(){this._resetComponents=new O,this.resetComponents$=this._resetComponents.asObservable()}resetAllComponents(){this._resetComponents.next()}resetComponent(n){this._resetComponents.next(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vi=["recorderInput"],Tt=(()=>{let e=class e{constructor(){this.$componentSelected=new A,this.store=l(T),this.$destroyed=new O,this.isSelectedComponent=!1,this.keyStrokeRecorder=l(j),this.keyReplay=l(F),this.sharedActions=l(Nt),this.inRecordingPage=l(J),this.currentFocusedComponent=this.store.select(G.selectFocusedComponent).pipe(I(this.$destroyed)),this._pageDataSelector=this.store.select(G.selectPageData).pipe(I(this.$destroyed)),this.recordControl=new Rt("")}_onFocus(n){if(this.isControlDisabled||!this.isReadyToRecord()){n.preventDefault();return}this.onFocus()}get pageDataSelector(){return this._pageDataSelector}get isControlDisabled(){return!this.keyReplay.paused}ngAfterViewInit(){this.initialize()}ngOnDestroy(){this.$destroyed.next(),this.$destroyed.complete()}initialize(){if(!this.recorderElement)throw ln(this.recorderId);if(!this.recordControl)throw dn(this.recorderId);this.addEventListeners(),this.registerRecordableComponent(),this.currentFocusedComponent.pipe(P(n=>this.recorderId==n)).subscribe(n=>{this.isSelectedComponent=n,this.isSelectedComponent&&(console.log("Selected Component",this.recorderId),this.keyReplay.setControl(this.recordControl,this.recorderId)),this.$componentSelected.emit()}),this.sharedActions.resetComponents$.pipe(I(this.$destroyed)).subscribe(n=>{(n&&n==this.recorderId||!n)&&(this.recordControl.reset(),this.recordControl.setValue(""))})}addEventListeners(){this.recorderElement.nativeElement.onkeydown=this.onKeyDown.bind(this),this.recorderElement.nativeElement.onclick=this.onMouseDown.bind(this),this.recorderElement.nativeElement.onselect=this.onDragEnter.bind(this)}registerRecordableComponent(){this.store.dispatch(h.registerRecordableComponent({componentId:this.recorderId,component:!0}))}componentSelected(){this.isSelectedComponent||this.store.dispatch(h.setFocusRecordableComponent({componentId:this.recorderId}))}onKeyDown(n){if(!this.canRecordKeys(n)){n.preventDefault();return}this.keyStrokeRecorder.recordAction(n,this.recorderId),n.code=="Enter"&&console.log(this.keyStrokeRecorder.pageData.keyData)}onMouseDown(n){if(this.isControlDisabled||!this.isReadyToRecord()){n.preventDefault();return}let i=n.target;i.selectionStart=i.value.length}canRecordKeys(n){let i=this.keyStrokeRecorder.checkKeyValid(n.code,n.ctrlKey),o=this.checkIfAtEnd(n.target.selectionStart);return this.isReadyToRecord()&&this.isSelectedComponent&&o&&i&&!this.isControlDisabled}isReadyToRecord(){return this.inRecordingPage&&this.keyStrokeRecorder.isRecording}checkIfAtEnd(n){return n==this.recordControl.value.length}focusControl(){this.recorderElement.nativeElement.focus()}resetControls(){this.recordControl&&this.recordControl.reset()}onDragEnter(n){n.preventDefault(),n.target.selectionStart=n.target.value.length}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=p({type:e,selectors:[["ng-component"]],viewQuery:function(i,o){if(i&1&&Dt(vi,5),i&2){let c;Et(c=wt())&&(o.recorderElement=c.first)}},hostBindings:function(i,o){i&1&&v("click",function(_){return o._onFocus(_)})},inputs:{recorderId:[nt.None,"recorder-id","recorderId"]},outputs:{$componentSelected:"selected"},decls:0,vars:0,template:function(i,o){},encapsulation:2});let t=e;return t})();var hn=(()=>{let e=class e extends Tt{constructor(){super()}ngAfterViewInit(){super.ngAfterViewInit(),this.recordControl.patchValue(Ci)}onFocus(){this.componentSelected()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=p({type:e,selectors:[["atmah-diary"]],standalone:!0,features:[b,N],decls:53,vars:1,consts:[["diaryTextarea","","recorderInput",""],[1,"diary-book-container"],[1,"diary-hard-cover"],[1,"diary-main-content"],[1,"page-decorations"],[1,"hinges"],["src","assets/decorations/hinge.svg","alt",""],[1,"background-image"],[1,"journal-title-container"],[1,"time"],[1,"title"],[1,"writeable-area-container"],[1,"text-area"],[1,"book-lines"],[1,"vertical-line"],[1,"horizontal-lines"],["id","","cols","30","spellcheck","false",3,"formControl"]],template:function(i,o){i&1&&(u(0,"div",1),g(1,"div",2),u(2,"div",3)(3,"div",4)(4,"div",5),g(5,"img",6)(6,"img",6)(7,"img",6)(8,"img",6)(9,"img",6)(10,"img",6)(11,"img",6)(12,"img",6)(13,"img",6),d(),g(14,"div",7),d(),u(15,"div",8)(16,"p",9),k(17,"12th January, 2023"),d(),u(18,"p",10),k(19,"Atmah Diary; where the soul speaks"),d()(),u(20,"div",11)(21,"div",12)(22,"div",13)(23,"div",14),g(24,"hr"),d(),u(25,"div",15),g(26,"hr")(27,"hr")(28,"hr")(29,"hr")(30,"hr")(31,"hr")(32,"hr")(33,"hr")(34,"hr")(35,"hr")(36,"hr")(37,"hr")(38,"hr")(39,"hr")(40,"hr")(41,"hr")(42,"hr")(43,"hr")(44,"hr")(45,"hr")(46,"hr")(47,"hr")(48,"hr")(49,"hr"),d()(),g(50,"textarea",16,0),d()()()()),i&2&&(V(50),y("formControl",o.recordControl))},dependencies:[kt,st,It,gt],styles:[".diary-book-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-self:center;width:620px;height:760px;background-color:#fff;position:relative}.diary-book-container[_ngcontent-%COMP%]   .diary-hard-cover[_ngcontent-%COMP%]{position:absolute;border-radius:14px;background-color:#353535;width:calc(100% - 14px);height:100%;box-shadow:10px 10px 26px #0003,-20px -13px 32px #0003}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]{display:flex;width:calc(100% - 14px);height:calc(100% - 14px);border-radius:12px;background-color:#eaeaea;position:absolute;bottom:0;right:0;color:var(--text-color);flex-direction:column}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .page-decorations[_ngcontent-%COMP%]{border-radius:12px;position:absolute;width:100%;height:100%}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .page-decorations[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-image:url(/assets/textures/paper-1.jpg);background-size:60%;background-blend-mode:multiply;opacity:.4;border-radius:12px}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .page-decorations[_ngcontent-%COMP%]   .hinges[_ngcontent-%COMP%]{position:absolute;top:36px;left:-28px;display:flex;flex-direction:column;gap:58px;z-index:100}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .journal-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:210px;font-size:16px;gap:6px;height:48px;width:100%;align-items:flex-end;justify-content:space-between;padding-right:32px;padding-left:72px;z-index:100;font-family:IM Fell English SC,cursive}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;font-family:IM Fell English,cursive}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]   .horizontal-lines[_ngcontent-%COMP%]{position:absolute;width:100%;top:0;left:0}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]   .horizontal-lines[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed var(--text-color);height:28px}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{position:absolute;top:-48px;width:100%;height:calc(100% + 48px);display:flex;flex-direction:row}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-right:4px double var(--text-color);height:100%;width:56px}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:100%;line-height:28px;font-size:18px;padding:8px 4px 4px 62px;text-wrap:pretty;text-decoration:none;background:transparent;border:none;resize:none;outline:none;font-family:Indie Flower,cursive;font-weight:600}@media only screen and (max-width: 599px){.diary-book-container[_ngcontent-%COMP%]{width:100%;height:100%}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]{width:100%;background-color:unset}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .journal-title-container[_ngcontent-%COMP%], .diary-book-container[_ngcontent-%COMP%]   .diary-hard-cover[_ngcontent-%COMP%], .diary-book-container[_ngcontent-%COMP%]   .page-decorations[_ngcontent-%COMP%]{display:none}.diary-book-container[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]{padding:0!important}.diary-book-container[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]{display:none}.diary-book-container[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:0 0 16px!important}}"]});let t=e;return t})(),Ci="Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborumnumquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentiumoptio, eaque rerum! Provident similique accusantium nemo autem. Veritatisobcaecati tenetur iure eius earum ut molestias architecto voluptate aliquamnihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit,tenetur error, harum nesciunt ipsum debitis quas aliquid. Reprehenderit,quia. Quo neque error repudiandae fuga? Ipsa laudantium molestias eos sapiente officiis modi at sunt excepturi expedita sint? Sed quibusdamrecusandae alias error harum maxime adipisci amet laborum. Perspiciatis minima nesciunt dolorem! Officiis iure rerum voluptates a cumque velit quibusdam sed amet tempora. Sit laborum ab, eius fugit doloribus tenetur fugiat, temporibus enim commodi iusto libero magni deleniti quod quam consequuntur! Commodi minima excepturi repudiandae velit hic maximedoloremque. Quaerat provident commodi consectetur veniam similique ad earum omnis ipsum saepe, voluptas, hic Sed quibusdamrecusandae alias error harum maxime adipisci amet laborum. Perspiciatis minima nesciunt dolorem! Officiis iure rerum voluptates a cumque velit quibusdam sed amet tempora. Sit laborum ab, eius fugit doloribus tenetur fugiat, temporibus enim commodi iusto libero magni deleniti quod quam consequuntur! Commodi minima excepturi repudiandae velit hic maximedoloremque. Quaerat provident commodi consectetur veniam similique ad earum omnis ipsum saepe, voluptas, hic";var Mi=["titleArea"],pn=(()=>{let e=class e extends Tt{constructor(n){super(),this.renderer=n}ngAfterViewInit(){super.ngAfterViewInit()}onFocus(){this.componentSelected()}};e.\u0275fac=function(i){return new(i||e)(M(lt))},e.\u0275cmp=p({type:e,selectors:[["atmah-chapter-title"]],viewQuery:function(i,o){if(i&1&&Dt(Mi,5),i&2){let c;Et(c=wt())&&(o.titleTextArea=c.first)}},standalone:!0,features:[b,N],decls:8,vars:1,consts:[["recorderInput",""],[1,"chapter-title-container"],[1,"chapter-title"],[1,"titleWrapper"],[1,"title-date"],["maxlength","40","placeholder","title...",1,"title",3,"formControl"]],template:function(i,o){i&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),k(4,"12 January, 2023"),d(),u(5,"textarea",5,0),k(7,"      "),d()()()()),i&2&&(V(5),y("formControl",o.recordControl))},dependencies:[kt,st,It,te,gt],styles:[".chapter-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]{text-align:right;width:70%;min-width:360px;font-family:IM Fell English,serif;-webkit-user-select:none;user-select:none}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:right;font-size:36px;font-family:IM Fell English,serif;border:none;text-decoration:none;resize:none;outline:none;width:100%;min-width:310px;transition:all ease .4s;overflow:hidden}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]   .title-date[_ngcontent-%COMP%]{margin-top:8px;font-size:18px}.chapter-title-container[_ngcontent-%COMP%]   .media-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end;width:100%;min-width:300px;margin-top:8px}@media only screen and (max-width: 599px){[_nghost-%COMP%]{width:100%}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]{text-align:left;width:100%}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;font-family:IM Fell English,cursive;text-align:left;vertical-align:middle;background-color:transparent}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]   .title-date[_ngcontent-%COMP%]{margin-top:0;font-size:14px}.chapter-title-container[_ngcontent-%COMP%]   .media-controls[_ngcontent-%COMP%]{align-items:start}}"]});let t=e;return t})();var B=(()=>{let e=class e{get currentSpeed(){return this._replayService.speed}get isPaused(){return this._replayService.paused}get isRecording(){return this._recorderService.isRecording}get isCompleted(){return this._replayCompleted}constructor(){this._replayCompleted=!1,this._replayService=l(F),this._recorderService=l(j),this._sharedAction=l(Nt),console.log("Initiated Media Service")}startRecording(){this._recorderService.startRecording()}stopRecording(){this._recorderService.stopRecording()}fastForward(){this._replayService.fastForward()}fastBackward(){this._replayService.fastBackward()}replay(){this._sharedAction.resetAllComponents(),this.play()}restartedReplay(){this._replayCompleted=!1}replayCompleted(){this._replayCompleted=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var mn=(()=>{let e=class e{get recording(){return this.mediaController.isRecording}get notrecording(){return!this.mediaController.isRecording}constructor(n){this.mediaController=n}};e.\u0275fac=function(i){return new(i||e)(M(B))},e.\u0275cmp=p({type:e,selectors:[["atmah-recording-indicator"]],hostVars:4,hostBindings:function(i,o){i&2&&bt("recording",o.recording)("not-recording",o.notrecording)},standalone:!0,features:[N],decls:3,vars:0,consts:[[1,"recording-cricle"],[1,"recording-text"]],template:function(i,o){i&1&&(g(0,"div",0),u(1,"p",1),k(2,"recording..."),d())},styles:["[_nghost-%COMP%]{display:inline-flex;gap:6px;font-family:Indie Flower,cursive;justify-content:right;align-items:center;width:100%;transition:all ease-in-out .35s}[_nghost-%COMP%]   .recording-cricle[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:7px;background-color:red}.recording[_nghost-%COMP%]{transform:translateY(0);opacity:1}@media only screen and (max-width: 599px){.recording[_nghost-%COMP%]{transform:translateY(calc(-100vh + 90px))}}.not-recording[_nghost-%COMP%]{transform:translateY(56px);opacity:0}@media only screen and (max-width: 599px){.not-recording[_nghost-%COMP%]{transform:translateY(-100vh)}}"]});let t=e;return t})();var S=(()=>{let e=class e{constructor(){this.disabled=!1,this.clicked=new A}onClick(){this.clicked.emit()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=p({type:e,selectors:[["atmah-media-button"]],inputs:{disabled:"disabled"},outputs:{clicked:"clicked"},decls:0,vars:0,template:function(i,o){},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]});let t=e;return t})();var gn=(()=>{let e=class e extends S{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=x(e)))(o||e)}})(),e.\u0275cmp=p({type:e,selectors:[["atmah-play-button"]],features:[b],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-play.svg","alt",""]],template:function(i,o){i&1&&(u(0,"button",0),v("click",function(){return o.onClick()}),g(1,"img",1),d()),i&2&&y("disabled",o.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]});let t=e;return t})();var yn=(()=>{let e=class e extends S{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=x(e)))(o||e)}})(),e.\u0275cmp=p({type:e,selectors:[["atmah-pause-button"]],features:[b],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-pause.svg","alt",""]],template:function(i,o){i&1&&(u(0,"button",0),v("click",function(){return o.onClick()}),g(1,"img",1),d()),i&2&&y("disabled",o.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]});let t=e;return t})();var _n=(()=>{let e=class e extends S{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=x(e)))(o||e)}})(),e.\u0275cmp=p({type:e,selectors:[["atmah-fast-forward-button"]],features:[b],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-fforward.svg","alt",""]],template:function(i,o){i&1&&(u(0,"button",0),v("click",function(){return o.onClick()}),g(1,"img",1),d()),i&2&&y("disabled",o.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]});let t=e;return t})();var vn=(()=>{let e=class e extends S{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=x(e)))(o||e)}})(),e.\u0275cmp=p({type:e,selectors:[["atmah-fast-backward-button"]],features:[b],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-fbackward.svg","alt",""]],template:function(i,o){i&1&&(u(0,"button",0),v("click",function(){return o.onClick()}),g(1,"img",1),d()),i&2&&y("disabled",o.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]});let t=e;return t})();var Cn=(()=>{let e=class e extends S{constructor(){super(...arguments),this.onRecord=new A,this.onStop=new A,this.recording=!1,this.recordingColor="#B91F1F",this.nonRecordingColor="#000000"}get buttonColor(){return this.recording?this.recordingColor:this.nonRecordingColor}onClick(){this.recording?this.onStop.emit():this.onRecord.emit(),this.recording=!this.recording}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=x(e)))(o||e)}})(),e.\u0275cmp=p({type:e,selectors:[["atmah-record-button"]],outputs:{onRecord:"onRecord",onStop:"onStop"},features:[b],decls:4,vars:3,consts:[[3,"click","disabled"],["width","40","height","39","viewBox","0 0 40 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15.4403 23.6369C12.7962 20.8784 15.9811 16.0205 18.6849 14.7511C26.3909 14.328 25.9853 20.2518 24.7686 22.7906C23.8617 24.6829 19.4961 27.8682 15.4403 23.6369Z"],["d","M8.44884 8.22957C5.61551 9.89623 0.448845 15.1296 2.44884 22.7296C4.94884 32.2296 12.9488 35.7296 14.9488 35.7296C16.9488 35.7296 26.4488 39.7296 33.4488 30.2296C40.4488 20.7296 36.9488 13.7296 35.4488 11.2296C33.9488 8.72957 28.4488 2.22957 24.4488 2.22957C20.4488 2.22957 9.44884 -0.270432 4.44884 11.2296M18.6849 14.7511C15.9811 16.0205 12.7962 20.8784 15.4403 23.6369C19.4961 27.8682 23.8617 24.6829 24.7686 22.7906C25.9853 20.2518 26.3909 14.328 18.6849 14.7511Z","stroke-width","3","stroke-linecap","round"]],template:function(i,o){i&1&&(u(0,"button",0),v("click",function(){return o.onClick()}),ge(),u(1,"svg",1),g(2,"path",2)(3,"path",3),d()()),i&2&&(y("disabled",o.disabled),V(2),dt("fill",o.buttonColor),V(),dt("stroke",o.buttonColor))},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all ease-in-out .2s}"]});let t=e;return t})();var Mn=(()=>{let e=class e extends S{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=x(e)))(o||e)}})(),e.\u0275cmp=p({type:e,selectors:[["atmah-replay-button"]],features:[b],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-replay.svg","alt",""]],template:function(i,o){i&1&&(u(0,"button",0),v("click",function(){return o.onClick()}),g(1,"img",1),d()),i&2&&y("disabled",o.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]});let t=e;return t})();function Fi(t,e){if(t&1){let r=ut();u(0,"atmah-play-button",6),v("clicked",function(){it(r);let i=L();return rt(i.onPlayClick())}),d()}if(t&2){let r=L();y("disabled",r.isRecording)}}function Vi(t,e){if(t&1){let r=ut();u(0,"atmah-pause-button",1),v("clicked",function(){it(r);let i=L();return rt(i.onPauseClick())}),d()}}function Si(t,e){if(t&1){let r=ut();u(0,"atmah-replay-button",6),v("clicked",function(){it(r);let i=L();return rt(i.onReplayClick())}),d()}if(t&2){let r=L();y("disabled",r.isRecording)}}function Pi(t,e){if(t&1){let r=ut();u(0,"atmah-record-button",7),v("onRecord",function(){it(r);let i=L();return rt(i.onStartRecording())})("onStop",function(){it(r);let i=L();return rt(i.onStopRecording())}),d()}if(t&2){let r=L();y("disabled",!r.isPaused)}}var bn=(()=>{let e=class e{get isPaused(){return this._mediaControl.isPaused}get isRecording(){return this._mediaControl.isRecording}get speed(){return this._mediaControl.currentSpeed}get canRecord(){return this._isInEditMode}isCompleted(){return this._mediaControl.isCompleted}constructor(n,i=!1){this._mediaControl=n,this._isInEditMode=i}onPlayClick(){this.isPaused&&this._mediaControl.play()}onPauseClick(){this.isPaused||this._mediaControl.pause()}onFForwardClick(){this._mediaControl.fastForward()}onFBackwardClick(){this._mediaControl.fastBackward()}onStartRecording(){!this.canRecord&&!this.isPaused||this._mediaControl.startRecording()}onStopRecording(){this._mediaControl.stopRecording()}onReplayClick(){this.isRecording||this._mediaControl.replay()}};e.\u0275fac=function(i){return new(i||e)(M(B),M(J,8))},e.\u0275cmp=p({type:e,selectors:[["atmah-media-control"]],decls:9,vars:5,consts:[[1,"controls"],[3,"clicked"],[3,"disabled","clicked",4,"ngIf"],[3,"clicked",4,"ngIf"],[3,"disabled","onRecord","onStop",4,"ngIf"],[1,"speed-control"],[3,"clicked","disabled"],[3,"onRecord","onStop","disabled"]],template:function(i,o){i&1&&(u(0,"div",0)(1,"atmah-fast-backward-button",1),v("clicked",function(){return o.onFBackwardClick()}),d(),Wt(2,Fi,1,1,"atmah-play-button",2)(3,Vi,1,0,"atmah-pause-button",3)(4,Si,1,1,"atmah-replay-button",2),u(5,"atmah-fast-forward-button",1),v("clicked",function(){return o.onFForwardClick()}),d(),Wt(6,Pi,1,1,"atmah-record-button",4),d(),u(7,"div",5),k(8),d()),i&2&&(V(2),y("ngIf",o.isPaused&&!o.isCompleted()),V(),y("ngIf",!o.isPaused&&!o.isCompleted()),V(),y("ngIf",o.isCompleted()),V(2),y("ngIf",o.canRecord),V(2),Ce("speed ",o.speed,"x"))},dependencies:[be,gn,yn,_n,vn,Cn,Mn],styles:[".controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:12px}.speed-control[_ngcontent-%COMP%]{margin-top:4px;font-family:Indie Flower,cursive;font-weight:400;font-size:12px;text-align:right}"]});let t=e;return t})();var Dn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=W({imports:[De]});let t=e;return t})();var H=(()=>{let e=class e{constructor(){this._dispose=new O,this.replayService=l(F),this.recorderService=l(j),this.diaryStore=l(T),this.dispose$=this._dispose.asObservable()}dispose(){this._dispose.next()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var _t=(()=>{let e=class e{constructor(n,i){this.routeData=n,this.diaryService=i}ngAfterViewInit(){console.log(navigator.userAgent),this.diaryService.initialize()}ngOnInit(){console.log("Viewing :: ",this.routeData.snapshot.routeConfig?.path)}};e.\u0275fac=function(i){return new(i||e)(M(we),M(H))},e.\u0275cmp=p({type:e,selectors:[["view-diary"]],standalone:!0,features:[N],decls:9,vars:0,consts:[[1,"page-container"],[1,"media-controls-container"],[1,"media-controls"],[1,"title-container"],["recorder-id","title-component"],[1,"diary-container"],["recorder-id","diary-component"],[1,"right-spacer"]],template:function(i,o){i&1&&(u(0,"atmah-full-page-container",0)(1,"div",1),g(2,"atmah-recording-indicator")(3,"atmah-media-control",2),d(),u(4,"div",3),g(5,"atmah-chapter-title",4),d(),u(6,"div",5),g(7,"atmah-diary",6),d(),g(8,"div",7),d())},dependencies:[Te,hn,pn,Dn,bn,mn],styles:['[_nghost-%COMP%]{--title-height: 90px;--media-control-height: 70px}.page-container[_ngcontent-%COMP%]{display:grid}.media-controls-container[_ngcontent-%COMP%]{grid-column:1;grid-row:1;justify-content:end}.title-container[_ngcontent-%COMP%]{grid-column:1;grid-row:2;justify-content:start}.diary-container[_ngcontent-%COMP%]{grid-column:2;grid-row:1/span 2}.right-spacer[_ngcontent-%COMP%]{grid-column:3}.diary-container[_ngcontent-%COMP%]{display:flex;flex:2;height:100%;align-items:center;justify-content:center}.title-container[_ngcontent-%COMP%]{flex:2;height:fit-content;align-self:center;padding-right:36px;height:100%;display:inline-flex;flex-direction:column;align-items:end}.media-controls-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:end;height:100%;align-self:center;padding-right:36px}.right-spacer[_ngcontent-%COMP%]{flex:1}@media only screen and (max-width: 599px){.page-container[_ngcontent-%COMP%]{display:grid;overflow:hidden;padding:16px}.media-controls-container[_ngcontent-%COMP%]{grid-column:1;grid-row:3;height:var(--media-control-height);padding:0;align-items:center;width:100%;z-index:3}.title-container[_ngcontent-%COMP%]{grid-column:1;grid-row:1;padding-right:0;justify-self:start;height:var(--title-height);width:100%;padding-top:16px;z-index:3}.diary-container[_ngcontent-%COMP%]{display:block;grid-column:1;grid-row:2;height:calc(100vh - var(--media-control-height) - var(--title-height));margin-top:-14px;position:relative}.diary-container[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;height:74px;width:100%;background-color:red;z-index:2;bottom:-30px;background:linear-gradient(0deg,#fff 0% 42%,#fff0)}.diary-container[_ngcontent-%COMP%]:before{display:block;content:"";position:absolute;height:72px;width:100%;background:linear-gradient(180deg,#fff 0% 42%,#fff0);z-index:2;top:-24px}.right-spacer[_ngcontent-%COMP%]{display:none}}']});let t=e;return t})();var En=[{path:"view",component:_t,providers:[{provide:J,useValue:!1}]},{path:"edit",component:_t,providers:[{provide:J,useValue:!0}]},{path:"**",redirectTo:"view"}];var a=function(t){return t.Backspace="Backspace",t.Enter="Enter",t.Escape="Escape",t.Space="Space",t.Digit0="Digit0",t.Digit1="Digit1",t.Digit2="Digit2",t.Digit3="Digit3",t.Digit4="Digit4",t.Digit5="Digit5",t.Digit6="Digit6",t.Digit7="Digit7",t.Digit8="Digit8",t.Digit9="Digit9",t.KeyA="KeyA",t.KeyB="KeyB",t.KeyC="KeyC",t.KeyD="KeyD",t.KeyE="KeyE",t.KeyF="KeyF",t.KeyG="KeyG",t.KeyH="KeyH",t.KeyI="KeyI",t.KeyJ="KeyJ",t.KeyK="KeyK",t.KeyL="KeyL",t.KeyM="KeyM",t.KeyN="KeyN",t.KeyO="KeyO",t.KeyP="KeyP",t.KeyQ="KeyQ",t.KeyR="KeyR",t.KeyS="KeyS",t.KeyT="KeyT",t.KeyU="KeyU",t.KeyV="KeyV",t.KeyW="KeyW",t.KeyX="KeyX",t.KeyY="KeyY",t.KeyZ="KeyZ",t.Numpad0="Numpad0",t.Numpad1="Numpad1",t.Numpad2="Numpad2",t.Numpad3="Numpad3",t.Numpad4="Numpad4",t.Numpad5="Numpad5",t.Numpad6="Numpad6",t.Numpad7="Numpad7",t.Numpad8="Numpad8",t.Numpad9="Numpad9",t.NumpadMultiply="NumpadMultiply",t.NumpadAdd="NumpadAdd",t.NumpadSubtract="NumpadSubtract",t.NumpadDecimal="NumpadDecimal",t.NumpadDivide="NumpadDivide",t.Semicolon="Semicolon",t.Equal="Equal",t.Comma="Comma",t.Minus="Minus",t.Period="Period",t.Slash="Slash",t.Backquote="Backquote",t.BracketLeft="BracketLeft",t.Backslash="Backslash",t.BracketRight="BracketRight",t.Quote="Quote",t}(a||{}),s=function(t){return t.Backspace="Backspace",t.Tab="Tab",t.Enter="Enter",t.ShiftLeft="ShiftLeft",t.ShiftRight="ShiftRight",t.ControlLeft="ControlLeft",t.ControlRight="ControlRight",t.AltLeft="AltLeft",t.AltRight="AltRight",t.CapsLock="CapsLock",t.Escape="Escape",t.Space="Space",t.PageUp="PageUp",t.PageDown="PageDown",t.End="End",t.Home="Home",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Insert="Insert",t.Delete="Delete",t.Digit0="Digit0",t.Digit1="Digit1",t.Digit2="Digit2",t.Digit3="Digit3",t.Digit4="Digit4",t.Digit5="Digit5",t.Digit6="Digit6",t.Digit7="Digit7",t.Digit8="Digit8",t.Digit9="Digit9",t.KeyA="KeyA",t.KeyB="KeyB",t.KeyC="KeyC",t.KeyD="KeyD",t.KeyE="KeyE",t.KeyF="KeyF",t.KeyG="KeyG",t.KeyH="KeyH",t.KeyI="KeyI",t.KeyJ="KeyJ",t.KeyK="KeyK",t.KeyL="KeyL",t.KeyM="KeyM",t.KeyN="KeyN",t.KeyO="KeyO",t.KeyP="KeyP",t.KeyQ="KeyQ",t.KeyR="KeyR",t.KeyS="KeyS",t.KeyT="KeyT",t.KeyU="KeyU",t.KeyV="KeyV",t.KeyW="KeyW",t.KeyX="KeyX",t.KeyY="KeyY",t.KeyZ="KeyZ",t.Numpad0="Numpad0",t.Numpad1="Numpad1",t.Numpad2="Numpad2",t.Numpad3="Numpad3",t.Numpad4="Numpad4",t.Numpad5="Numpad5",t.Numpad6="Numpad6",t.Numpad7="Numpad7",t.Numpad8="Numpad8",t.Numpad9="Numpad9",t.NumpadMultiply="NumpadMultiply",t.NumpadAdd="NumpadAdd",t.NumpadSubtract="NumpadSubtract",t.NumpadDecimal="NumpadDecimal",t.NumpadDivide="NumpadDivide",t.F1="F1",t.F2="F2",t.F3="F3",t.F4="F4",t.F5="F5",t.F6="F6",t.F7="F7",t.F8="F8",t.F9="F9",t.F10="F10",t.F11="F11",t.F12="F12",t.NumLock="NumLock",t.ScrollLock="ScrollLock",t.Semicolon="Semicolon",t.Equal="Equal",t.Comma="Comma",t.Minus="Minus",t.Period="Period",t.Slash="Slash",t.Backquote="Backquote",t.BracketLeft="BracketLeft",t.Backslash="Backslash",t.BracketRight="BracketRight",t.Quote="Quote",t.IntlBackslash="IntlBackslash",t.ContextMenu="ContextMenu",t}(s||{});var Rs=new Map([[s.Backspace,"\b"],[s.Tab,"   "],[s.Enter,"\r"],[s.IntlBackslash,"\\"]]),ct=new Map([[a.Backspace,"\b"],[a.Enter,"\r"],[a.Escape,"q"],[a.Space," "],[a.Digit0,"0"],[a.Digit1,"1"],[a.Digit2,"2"],[a.Digit3,"3"],[a.Digit4,"4"],[a.Digit5,"5"],[a.Digit6,"6"],[a.Digit7,"7"],[a.Digit8,"8"],[a.Digit9,"9"],[a.KeyA,"a"],[a.KeyB,"b"],[a.KeyC,"c"],[a.KeyD,"d"],[a.KeyE,"e"],[a.KeyF,"f"],[a.KeyG,"g"],[a.KeyH,"h"],[a.KeyI,"i"],[a.KeyJ,"j"],[a.KeyK,"k"],[a.KeyL,"l"],[a.KeyM,"m"],[a.KeyN,"n"],[a.KeyO,"o"],[a.KeyP,"p"],[a.KeyQ,"q"],[a.KeyR,"r"],[a.KeyS,"s"],[a.KeyT,"t"],[a.KeyU,"u"],[a.KeyV,"v"],[a.KeyW,"w"],[a.KeyX,"x"],[a.KeyY,"y"],[a.KeyZ,"z"],[a.Numpad0,"0"],[a.Numpad1,"1"],[a.Numpad2,"2"],[a.Numpad3,"3"],[a.Numpad4,"4"],[a.Numpad5,"5"],[a.Numpad6,"6"],[a.Numpad7,"7"],[a.Numpad8,"8"],[a.Numpad9,"9"],[a.NumpadMultiply,"*"],[a.NumpadAdd,"+"],[a.NumpadSubtract,"-"],[a.NumpadDecimal,"."],[a.NumpadDivide,"/"],[a.Semicolon,";"],[a.Equal,"="],[a.Comma,","],[a.Minus,"-"],[a.Period,"."],[a.Slash,"/"],[a.Backquote,"`"],[a.BracketLeft,"["],[a.Backslash,"\\"],[a.BracketRight,"]"],[a.Quote,"'"]]),ks={[s.Backspace]:"\b",[s.Tab]:"	",[s.Enter]:"e",[s.ShiftLeft]:"",[s.ShiftRight]:"",[s.ControlLeft]:"",[s.ControlRight]:"",[s.AltLeft]:"",[s.AltRight]:"",[s.CapsLock]:"",[s.Escape]:"q",[s.Space]:" ",[s.PageUp]:"",[s.PageDown]:"",[s.End]:"",[s.Home]:"",[s.ArrowLeft]:"",[s.ArrowUp]:"",[s.ArrowRight]:"",[s.ArrowDown]:"",[s.Insert]:"",[s.Delete]:"",[s.Digit0]:"0",[s.Digit1]:"1",[s.Digit2]:"2",[s.Digit3]:"3",[s.Digit4]:"4",[s.Digit5]:"5",[s.Digit6]:"6",[s.Digit7]:"7",[s.Digit8]:"8",[s.Digit9]:"9",[s.KeyA]:"a",[s.KeyB]:"b",[s.KeyC]:"c",[s.KeyD]:"d",[s.KeyE]:"e",[s.KeyF]:"f",[s.KeyG]:"g",[s.KeyH]:"h",[s.KeyI]:"i",[s.KeyJ]:"j",[s.KeyK]:"k",[s.KeyL]:"l",[s.KeyM]:"m",[s.KeyN]:"n",[s.KeyO]:"o",[s.KeyP]:"p",[s.KeyQ]:"q",[s.KeyR]:"r",[s.KeyS]:"s",[s.KeyT]:"t",[s.KeyU]:"u",[s.KeyV]:"v",[s.KeyW]:"w",[s.KeyX]:"x",[s.KeyY]:"y",[s.KeyZ]:"z",[s.Numpad0]:"0",[s.Numpad1]:"1",[s.Numpad2]:"2",[s.Numpad3]:"3",[s.Numpad4]:"4",[s.Numpad5]:"5",[s.Numpad6]:"6",[s.Numpad7]:"7",[s.Numpad8]:"8",[s.Numpad9]:"9",[s.NumpadMultiply]:"*",[s.NumpadAdd]:"+",[s.NumpadSubtract]:"-",[s.NumpadDecimal]:".",[s.NumpadDivide]:"/",[s.F1]:"",[s.F2]:"",[s.F3]:"",[s.F4]:"",[s.F5]:"",[s.F6]:"",[s.F7]:"",[s.F8]:"",[s.F9]:"",[s.F10]:"",[s.F11]:"",[s.F12]:"",[s.NumLock]:"",[s.ScrollLock]:"",[s.Semicolon]:";",[s.Equal]:"=",[s.Comma]:",",[s.Minus]:"-",[s.Period]:".",[s.Slash]:"/",[s.Backquote]:"`",[s.BracketLeft]:"[",[s.Backslash]:"\\",[s.BracketRight]:"]",[s.Quote]:"'",[s.IntlBackslash]:"\\",[s.ContextMenu]:""};function wn(t,e){return Math.floor(Math.random()*(e-t+1)+t)}var jt=class{constructor(){this.keyboardSoundMap=new Map,this.loadedSounds=new Map}initService(){this.loadAllSounds()}loadAllSounds(){this.keyboardSoundMap.forEach((e,r)=>{e.forEach(n=>{let i=this.loadedSounds.get(r),o=new Audio(n);o.load(),i?this.loadedSounds.get(r).push(o):this.loadedSounds.set(r,[o])})})}addSound(e,r){let n=this.keyboardSoundMap.get(e);n?n.push(r):this.keyboardSoundMap.set(e,[r])}playSound(e,r=!0){if(!this.keyboardSoundMap.has(e)){console.error("NO SOUND FOUND FOR ",e);return}let n=this.loadedSounds.get(e),i=n.at(wn(0,n.length-1));i||console.warn("Sound random errored"),i?.play()}};var D=function(t){return t[t.NORMAL_KEY=0]="NORMAL_KEY",t[t.BACKSPACE_KEY=1]="BACKSPACE_KEY",t[t.ENTER_KEY=2]="ENTER_KEY",t}(D||{});var Bt=(()=>{let e=class e extends jt{constructor(){super(),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key1.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key2.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key3.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key8.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key4.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key5.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key6.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key7.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key9.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key10.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key11.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key12.mp3"),this.addSound(D.ENTER_KEY,"assets/sounds/keyboard/enter.mp3"),this.addSound(D.BACKSPACE_KEY,"assets/sounds/keyboard/backspace.mp3")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var On=(()=>{let e=class e extends F{get waitTime(){return this.recordEvent.keyData[this._currentWaitIndex].w/this.speedX}get done(){return this.hasRecordEvent&&this._currentCharacterIndex>=this.recordEvent.keyData.length}constructor(){super(),this._currentWaitIndex=0,this._currentCharacterIndex=0,this._soundService=l(Bt)}initService(){this._soundService.initService()}setControl(n,i){this.control=n}startReplay(){if(!(this.hasFormControl&&this.hasRecordEvent)||this.done){this.pauseReplay(),!this.done&&!this.hasRecordEvent&&console.error("Something is not right");return}setTimeout(()=>{this.performTyping()},this.waitTime)}resetReplay(){this.recordEvent=R,this.control=yt,this._isPaused.next(!0)}getKeyStrokeData(){}playKeystrokeSound(n){if(!(this.speed>=4||this.waitTime<=50))switch(n){case ct.get(a.Backspace):this._soundService.playSound(D.BACKSPACE_KEY);break;case ct.get(a.Enter):this._soundService.playSound(D.ENTER_KEY);break;default:this._soundService.playSound(D.NORMAL_KEY);break}}performTyping(){if(this.paused)return;let n=this.recordEvent.keyData[this._currentCharacterIndex].k,i=this.control.value;if(this.playKeystrokeSound(n),n==ct.get(a.Backspace)?i=i.slice(0,i.length-1):i=this.control.value+n,this.control.setValue(i),this._currentCharacterIndex++,this._currentWaitIndex++,this.done){this._currentCharacterIndex=0,this._currentWaitIndex=0,this.recordEventCompleted();return}setTimeout(()=>{this.performTyping()},this.waitTime)}speedControl(n){return Math.min(Math.max(n,1/4),8)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function xn(t){return t&&t.length==1&&t.charCodeAt(0)>=97&&t.charCodeAt(0)<=122}var Fn=(()=>{let e=class e extends j{constructor(){super(),this._lastActionTime=-1,this.pageData={keyData:[],componentId:U},this.canRecord$.subscribe(n=>{n&&(this._lastActionTime=Date.now())})}recordAction(n,i){if(!this.isRecording)return;let o=Date.now(),c=Math.max(10,Math.min(o-this._lastActionTime,5e3)),[_,Ut]=this.recordKey(n.code,c,n.shiftKey);this.nextRecordEvent(i,_,Ut),this._lastActionTime=Date.now()}recordKey(n,i,o=!1,c=!1){let _=ct.get(n);return o&&xn(_)&&(_=_?.toUpperCase()),[_,i]}checkKeyValid(n,i=!1){return Object.values(a).includes(n)&&!i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var Vn=(()=>{let e=class e extends xt{constructor(n){super(),this.title=n,this.titleMap=new Map([["edit","Atmah | Editing "],["view","Atmah | Viewing "]])}updateTitle(n){let i=this.buildTitle(n);this.title.setTitle(`My App - ${i}`)}};e.\u0275fac=function(i){return new(i||e)(z(Ee))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var Sn=(()=>{let e=class e extends H{constructor(){super(),this.pageData={keyData:[],componentId:U}}ngOnDestroy(){this.dispose()}initialize(){this.replayService.initService(),this.replayService.$recordEventCompleted.pipe(I(this.dispose$)).subscribe(()=>{this.diaryStore.dispatch(h.recordEventCompleted())}),this.recorderService.newRecordEvent$.pipe(I(this.dispose$)).subscribe(({component:n,key:i})=>{console.log("Component: ",n),this.addRecordEvent(n,i)})}getNextRecordEvent(){return this.diaryStore.pipe(tt(1),Ae(G.selectRecordEvent))}createNewPageData(n){this.pageData={keyData:[],componentId:n}}addRecordEvent(n,i){console.log("Add Record Event!"),this.pageData.componentId!=n&&(console.log("Saving and creating a new Record Event"),this.saveRecordEvent(),this.createNewPageData(n)),this.pageData.keyData.push(i)}saveRecordEvent(){if(this.pageData.componentId==U){console.log("Discarding record event: DEFAULT COMPONENT");return}this.diaryStore.dispatch(h.recordEventAction({data:this.pageData}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ri={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Lt="__@ngrx/effects_create__";function $(t,e={}){let r=e.functional?t:t(),n=C(C({},Ri),e);return Object.defineProperty(r,Lt,{value:n}),r}function ki(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(Lt)?t[n][Lt].hasOwnProperty("dispatch"):!1).map(n=>{let i=t[n][Lt];return C({propertyName:n},i)})}function Ni(t){return ki(t)}function Pn(t){return Object.getPrototypeOf(t)}function Ti(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function In(t){return typeof t=="function"}function ji(t){return t.filter(In)}function Bi(t,e,r){let n=Pn(t),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,c=Ni(t).map(({propertyName:_,dispatch:Ut,useEffectsErrorHandler:Tn})=>{let re=typeof t[_]=="function"?t[_]():t[_],oe=Tn?r(re,e):re;return Ut===!1?oe.pipe(ue()):oe.pipe(pe()).pipe(P(jn=>({effect:t[_],notification:jn,propertyName:_,sourceName:o,sourceInstance:t})))});return Ht(...c)}var Li=10;function An(t,e,r=Li){return t.pipe(de(n=>(e&&e.handleError(n),r<=1?t:An(t,e,r-1))))}var q=(()=>{let e=class e extends se{constructor(n){super(),n&&(this.source=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}};e.\u0275fac=function(i){return new(i||e)(z(Ie))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K(...t){return vt(e=>t.some(r=>typeof r=="string"?r===e.type:r.type===e.type))}var Sa=new E("@ngrx/effects Internal Root Guard"),Pa=new E("@ngrx/effects User Provided Effects"),Ia=new E("@ngrx/effects Internal Root Effects"),Aa=new E("@ngrx/effects Internal Root Effects Instances"),Ra=new E("@ngrx/effects Internal Feature Effects"),ka=new E("@ngrx/effects Internal Feature Effects Instance Groups"),Ui=new E("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>An}),Gi="@ngrx/effects/init",Hi=Fe(Gi);function $i(t,e){if(t.notification.kind==="N"){let r=t.notification.value;!qi(r)&&e.handleError(new Error(`Effect ${Ki(t)} dispatched an invalid action: ${Wi(r)}`))}}function qi(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function Ki({propertyName:t,sourceInstance:e,sourceName:r}){let n=typeof e[t]=="function";return!!r?`"${r}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function Wi(t){try{return JSON.stringify(t)}catch{return t}}var zi="ngrxOnIdentifyEffects";function Yi(t){return ne(t,zi)}var Qi="ngrxOnRunEffects";function Zi(t){return ne(t,Qi)}var Xi="ngrxOnInitEffects";function Ji(t){return ne(t,Xi)}function ne(t,e){return t&&e in t&&typeof t[e]=="function"}var Rn=(()=>{let e=class e extends O{constructor(n,i){super(),this.errorHandler=n,this.effectsErrorHandler=i}addEffects(n){this.next(n)}toActions(){return this.pipe($t(n=>Ti(n)?Pn(n):n),Gt(n=>n.pipe($t(tr))),Gt(n=>{let i=n.pipe(Ct(c=>er(this.errorHandler,this.effectsErrorHandler)(c)),P(c=>($i(c,this.errorHandler),c.notification)),vt(c=>c.kind==="N"&&c.value!=null),he()),o=n.pipe(tt(1),vt(Ji),P(c=>c.ngrxOnInitEffects()));return Ht(i,o)}))}};e.\u0275fac=function(i){return new(i||e)(z(ye),z(Ui))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tr(t){return Yi(t)?t.ngrxOnIdentifyEffects():""}function er(t,e){return r=>{let n=Bi(r,t,e);return Zi(r)?r.ngrxOnRunEffects(n):n}}var nr=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,i){this.effectSources=n,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(z(Rn),z(T))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kn(...t){let e=t.flat(),r=ji(e);return me([r,{provide:fe,multi:!0,useValue:()=>{l(Se),l(Pe,{optional:!0});let n=l(nr),i=l(Rn),o=!n.isStarted;o&&n.start();for(let c of e){let _=In(c)?l(c):c;i.addEffects(_)}o&&l(T).dispatch(Hi())}}])}var ie={};Bn(ie,{diaryReplayCompleted:()=>or,recordEventCompleted:()=>ir,resumeDiaryReplay:()=>ar,setFocusedComponent:()=>dr,setNextRecordEvent:()=>rr,startDiaryReplay:()=>sr,startRecording:()=>cr,stopRecording:()=>lr});var ir=$((t=l(q),e=l(H))=>t.pipe(K(h.recordEventCompleted),Ct(()=>e.getNextRecordEvent().pipe(P(r=>r!=R?h.setNextRecordEvent({data:r}):h.diaryReplayCompleted())))),{functional:!0}),rr=$((t=l(q),e=l(F))=>t.pipe(K(h.setNextRecordEvent),et(r=>{e.setRecordEvent(r.data),e.play()})),{functional:!0,dispatch:!1}),or=$((t=l(q),e=l(B),r=l(F))=>t.pipe(K(h.diaryReplayCompleted),et(()=>{e.pause(),r.resetReplay(),e.replayCompleted()})),{functional:!0,dispatch:!1}),sr=$((t=l(q))=>t.pipe(K(h.startDiaryReplay),P(()=>h.resumeDiaryReplay())),{functional:!0,dispatch:!0}),ar=$((t=l(q),e=l(F))=>t.pipe(K(h.resumeDiaryReplay),et(()=>{e.play()})),{functional:!0,dispatch:!1}),cr=$((t=l(q))=>t.pipe(K(h.startRecording)),{functional:!0,dispatch:!1}),lr=$((t=l(q),e=l(H))=>t.pipe(K(h.stopRecording),et(()=>{e.saveRecordEvent(),e.createNewPageData(U)})),{functional:!0,dispatch:!1}),dr=$((t=l(q))=>t.pipe(K(h.setFocusRecordableComponent),et(({componentId:e})=>{console.log("Set focused component : ",e)})),{functional:!0,dispatch:!1});var Nn=(()=>{let e=class e extends B{constructor(){super(),this.store=l(T)}play(){this._replayService.hasRecordEvent?this._replayService.play():(console.log("Starting from beginning"),this.restartedReplay(),this.store.select(G.selectRecordEvent).pipe(tt(1)).subscribe(n=>{console.log("\u{1F680} ~ MediaControlService ~ play ~ recordData - setRecordEvent",n),this._replayService.setRecordEvent(n??R,!1),this.replay()}),this.store.dispatch(h.startDiaryReplay()))}pause(){this._replayService.pauseReplay()}stopRecording(){super.stopRecording(),this.store.dispatch(h.stopRecording())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var yc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=W({providers:[{provide:F,useClass:On},{provide:j,useClass:Fn},{provide:xt,useClass:Vn},{provide:H,useClass:Sn},{provide:B,useClass:Nn},Bt,Oe(En),ke(G),kn(ie)],imports:[_t,xe]});let t=e;return t})();export{yc as DiaryViewModule};
