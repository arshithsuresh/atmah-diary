import{b as At,c as fe,d as It,e as Q,i as kt,j as Nt,n as Tt,p as N,q as Bt,r as Ie,s as jt,t as Lt,v as X,w as Ut}from"./chunk-TI4NWLHZ.js";import{a as Rt}from"./chunk-RMJALOL7.js";import{A as Qe,Aa as j,B as vt,Da as Ve,Ea as Fe,Fa as Se,Ga as k,H as P,I as de,Ia as wt,Ja as Pe,L as we,La as Z,M as u,Ma as Re,N as q,O as w,Oa as et,P as W,Q as c,Ra as Ot,S as Ct,Sa as xt,T as Mt,Ua as Vt,V as Xe,Va as Ft,W as te,X as ne,Xa as Ae,Y as bt,Ya as St,Za as Pt,_ as O,a as m,b,ba as R,c as qn,d as pt,da as Dt,e as E,ea as Ze,f as ht,fa as Oe,ga as V,ha as ue,ia as C,ja as g,k as ft,ka as z,la as Y,ma as M,n as S,na as Je,o as ze,oa as Et,p as mt,pa as pe,q as Ye,qa as y,r as De,ra as xe,s as gt,v as ee,va as d,w as _t,wa as l,x as yt,xa as _,ya as he,z as Ee,za as v}from"./chunk-XH4D5XII.js";var Yt=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(C(ue),C(Ze))};static \u0275dir=Y({type:e})}return e})(),Wn=(()=>{class e extends Yt{static \u0275fac=(()=>{let t;return function(r){return(t||(t=O(e)))(r||e)}})();static \u0275dir=Y({type:e,features:[M]})}return e})(),Qt=new w("");var zn={provide:Qt,useExisting:we(()=>se),multi:!0};function Yn(){let e=et()?et().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Qn=new w(""),se=(()=>{class e extends Yt{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Yn())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(C(ue),C(Ze),C(Qn,8))};static \u0275dir=Y({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&v("input",function(f){return r._handleInput(f.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(f){return r._compositionEnd(f.target.value)})},standalone:!1,features:[Pe([zn]),M]})}return e})();function Xn(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Xt=new w(""),Zn=new w("");function Jn(e){return n=>{let t=n.value?.length??Xn(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function Gt(e){return null}function Zt(e){return e!=null}function Jt(e){return Et(e)?ft(e):e}function en(e){let n={};return e.forEach(t=>{n=t!=null?m(m({},n),t):n}),Object.keys(n).length===0?null:n}function tn(e,n){return n.map(t=>t(e))}function ei(e){return!e.validate}function nn(e){return e.map(n=>ei(n)?n:t=>n.validate(t))}function ti(e){if(!e)return null;let n=e.filter(Zt);return n.length==0?null:function(t){return en(tn(t,n))}}function rn(e){return e!=null?ti(nn(e)):null}function ni(e){if(!e)return null;let n=e.filter(Zt);return n.length==0?null:function(t){let i=tn(t,n).map(Jt);return mt(i).pipe(S(en))}}function on(e){return e!=null?ni(nn(e)):null}function Ht(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function sn(e){return e._rawValidators}function an(e){return e._rawAsyncValidators}function tt(e){return e?Array.isArray(e)?e:[e]:[]}function Ne(e,n){return Array.isArray(e)?e.includes(n):e===n}function $t(e,n){let t=tt(n);return tt(e).forEach(r=>{Ne(t,r)||t.push(r)}),t}function Kt(e,n){return tt(n).filter(t=>!Ne(e,t))}var nt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=rn(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=on(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}};var ve=class extends nt{_parent=null;name=null;valueAccessor=null},it=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ii={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Tr=b(m({},ii),{"[class.ng-submitted]":"isSubmitted"}),je=(()=>{class e extends it{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(C(ve,2))};static \u0275dir=Y({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&xe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[M]})}return e})();var me="VALID",ke="INVALID",ie="PENDING",ge="DISABLED",oe=class{},Te=class extends oe{value;source;constructor(n,t){super(),this.value=n,this.source=t}},_e=class extends oe{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},ye=class extends oe{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},re=class extends oe{status;source;constructor(n,t){super(),this.status=n,this.source=t}};function ri(e){return(Le(e)?e.validators:e)||null}function oi(e){return Array.isArray(e)?rn(e):e||null}function si(e,n){return(Le(n)?n.asyncValidators:e)||null}function ai(e){return Array.isArray(e)?on(e):e||null}function Le(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var rt=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Z(this.statusReactive)}set status(n){Z(()=>this.statusReactive.set(n))}_status=Re(()=>this.statusReactive());statusReactive=Oe(void 0);get valid(){return this.status===me}get invalid(){return this.status===ke}get pending(){return this.status==ie}get disabled(){return this.status===ge}get enabled(){return this.status!==ge}errors;get pristine(){return Z(this.pristineReactive)}set pristine(n){Z(()=>this.pristineReactive.set(n))}_pristine=Re(()=>this.pristineReactive());pristineReactive=Oe(!0);get dirty(){return!this.pristine}get touched(){return Z(this.touchedReactive)}set touched(n){Z(()=>this.touchedReactive.set(n))}_touched=Re(()=>this.touchedReactive());touchedReactive=Oe(!1);get untouched(){return!this.touched}_events=new E;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators($t(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators($t(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Kt(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Kt(n,this._rawAsyncValidators))}hasValidator(n){return Ne(this._rawValidators,n)}hasAsyncValidator(n){return Ne(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(b(m({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new ye(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new ye(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(b(m({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new _e(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new _e(!0,i))}markAsPending(n={}){this.status=ie;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new re(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(b(m({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ge,this.errors=null,this._forEachChild(r=>{r.disable(b(m({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Te(this.value,i)),this._events.next(new re(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(b(m({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=me,this._forEachChild(i=>{i.enable(b(m({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(b(m({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===me||this.status===ie)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Te(this.value,t)),this._events.next(new re(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(b(m({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ge:me}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=ie,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Jt(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new re(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new R,this.statusChanges=new R}_calculateStatus(){return this._allControlsDisabled()?ge:this.errors?ke:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ie)?ie:this._anyControlsHaveStatus(ke)?ke:me}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new _e(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new ye(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Le(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=oi(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=ai(this._rawAsyncValidators)}};var cn=new w("",{providedIn:"root",factory:()=>ot}),ot="always";function ci(e,n,t=ot){di(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),pi(e,n),fi(e,n),hi(e,n),li(e,n)}function qt(e,n,t=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),ui(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Be(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function li(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function di(e,n){let t=sn(e);n.validator!==null?e.setValidators(Ht(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=an(e);n.asyncValidator!==null?e.setAsyncValidators(Ht(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Be(n._rawValidators,r),Be(n._rawAsyncValidators,r)}function ui(e,n){let t=!1;if(e!==null){if(n.validator!==null){let r=sn(e);if(Array.isArray(r)&&r.length>0){let a=r.filter(f=>f!==n.validator);a.length!==r.length&&(t=!0,e.setValidators(a))}}if(n.asyncValidator!==null){let r=an(e);if(Array.isArray(r)&&r.length>0){let a=r.filter(f=>f!==n.asyncValidator);a.length!==r.length&&(t=!0,e.setAsyncValidators(a))}}}let i=()=>{};return Be(n._rawValidators,i),Be(n._rawAsyncValidators,i),t}function pi(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ln(e,n)})}function hi(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ln(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function ln(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function fi(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function mi(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function gi(e){return Object.getPrototypeOf(e.constructor)===Wn}function _i(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(a=>{a.constructor===se?t=a:gi(a)?i=a:r=a}),r||i||t||null}function Wt(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function zt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ue=class extends rt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(ri(t),si(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Le(t)&&(t.nonNullable||t.initialValueIsDefault)&&(zt(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Wt(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Wt(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){zt(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var dn=new w(""),yi={provide:ve,useExisting:we(()=>Ce)},Ce=(()=>{class e extends ve{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new R;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,a,f){super(),this._ngModelWarningConfig=a,this.callSetDisabledState=f,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=_i(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&qt(i,this,!1),ci(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}mi(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&qt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||e)(C(Xt,10),C(Zn,10),C(Qt,10),C(dn,8),C(cn,8))};static \u0275dir=Y({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Pe([yi]),M,Xe]})}return e})();function vi(e){return typeof e=="number"?e:parseInt(e,10)}var Ci=(()=>{class e{_validator=Gt;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Gt,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Y({type:e,features:[Xe]})}return e})();var Mi={provide:Xt,useExisting:we(()=>st),multi:!0},st=(()=>{class e extends Ci{maxlength;inputName="maxlength";normalizeInput=t=>vi(t);createValidator=t=>Jn(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=O(e)))(r||e)}})();static \u0275dir=Y({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&pe("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Pe([Mi]),M]})}return e})();var bi=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=z({type:e});static \u0275inj=q({})}return e})();var Ge=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:dn,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:t.callSetDisabledState??ot}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=z({type:e});static \u0275inj=q({imports:[bi]})}return e})();var h=It({source:"Diary Actions",events:{RegisterRecordableComponent:fe(),RecordEventAction:fe(),SetFocusRecordableComponent:fe(),RecordEventCompleted:Q(),SetNextRecordEvent:fe(),StartDiaryReplay:Q(),ResumeDiaryReplay:Q(),PauseDiaryReplay:Q(),StartRecording:Q(),StopRecording:Q(),DiaryReplayCompleted:Q()}});var at="NULL";var ae=class extends Error{};var pn=()=>new ae("Recorder component id already in use."),hn=e=>new ae(`No Recorder element specified for ${e}`),fn=e=>new ae(`No form control specified for ${e}`);var A={componentId:"default-null-value",keyData:[]},Me=new Ue("default-null-form-control"),L="null component";var mn={dated:Date.now(),initialPageTitle:"Title Goes here...",pageEvents:[],pageIndex:0};var Ei={registeredComponents:new Map,focusedComponent:at,pageData:mn,currentRecordEventIndex:0,loading:!1},gn=Ut(Ei,X(h.recordEventAction,(e,{data:n})=>{let t=[...e.pageData.pageEvents,n];return b(m({},e),{pageData:b(m({},e.pageData),{pageEvents:t})})}),X(h.registerRecordableComponent,(e,{componentId:n,component:t})=>{let i=new Map(e.registeredComponents);if(i.has(n))throw pn();return i.set(n,!0),b(m({},e),{registeredComponents:i})}),X(h.setFocusRecordableComponent,(e,{componentId:n})=>e.registeredComponents.get(n)?b(m({},e),{focusedComponent:n}):(console.warn("Component not registered"),m({},e))),X(h.recordEventCompleted,e=>{let n=e.currentRecordEventIndex+1;return b(m({},e),{currentRecordEventIndex:n})}),X(h.setNextRecordEvent,(e,{data:n})=>b(m({},e),{focusedComponent:n.componentId})),X(h.startDiaryReplay,e=>{let n=e.pageData.pageEvents[e.currentRecordEventIndex],t=n?n.componentId:L;return b(m({},e),{focusedComponent:t})}),X(h.diaryReplayCompleted,e=>b(m({},e),{currentRecordEventIndex:0,focusedComponent:at})));var U=jt({name:"diary",reducer:gn,extraSelectors:({selectDiaryState:e,selectPageData:n})=>{let t=Ie(n,a=>a.pageIndex),i=Ie(n,a=>a.pageEvents),r=Ie(e,a=>{let f=a.currentRecordEventIndex;return a.pageData.pageEvents.at(f)??A});return{selectPageIndex:t,selectPageEvents:i,selectRecordEvent:r}}});var T=(()=>{class e{constructor(){this._canRecord=new ht(!1),this._destroyed=new E,this._newRecordEvent=new E,this.newRecordEvent$=this._newRecordEvent.asObservable(),this.canRecord$=this._canRecord.pipe(P(this._destroyed))}get isRecording(){return this._canRecord.value}nextRecordEvent(t,i,r){this._newRecordEvent.next({component:t,key:{k:i,w:r}})}startRecording(){this._canRecord.next(!0)}stopRecording(){this._canRecord.next(!1)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();var x=(()=>{class e{set speed(t){this.speedX=this.speedControl(t)}get $recordEventCompleted(){return this._recordEventCompleted.asObservable()}get speed(){return this.speedX}get paused(){return this.isPaused}get hasRecordEvent(){return this.recordEvent!=A}get hasFormControl(){return this.control!=Me}constructor(){this.speedX=1,this._isPaused=new E,this.isPaused=!0,this.recordEvent=A,this.control=Me,this._destroyed=new E,this._recordEventCompleted=new E,this.destroyed$=this._destroyed.asObservable(),this._isPaused$=this._isPaused.pipe(P(this.destroyed$)),this._isPaused$.subscribe(t=>{this.isPaused=t,t||this.startReplay()})}recordEventCompleted(){this._recordEventCompleted.next()}setRecordEvent(t,i=!0){this.recordEvent=t,i&&this.startReplay()}fastForward(){this.speed*=2}fastBackward(){this.speed/=2}play(){this._isPaused.next(!1)}pauseReplay(){this._isPaused.next(!0)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();var J=new w("CAN RECORD AND EDIT");var He=(()=>{class e{constructor(){this._resetComponents=new E,this.resetComponents$=this._resetComponents.asObservable()}resetAllComponents(){this._resetComponents.next()}resetComponent(t){this._resetComponents.next(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ce=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();var wi=["recorderInput"],$e=(()=>{class e{constructor(){this.$componentSelected=new R,this.store=c(N),this.$destroyed=new E,this.isSelectedComponent=!1,this.keyStrokeRecorder=c(T),this.keyReplay=c(x),this.sharedActions=c(He),this.inRecordingPage=c(J),this.keyListeners=c(ce),this.currentFocusedComponent=this.store.select(U.selectFocusedComponent).pipe(P(this.$destroyed)),this._pageDataSelector=this.store.select(U.selectPageData).pipe(P(this.$destroyed)),this.recordControl=new Ue("")}_onFocus(t){if(this.isControlDisabled||!this.isReadyToRecord()){t.preventDefault();return}this.onFocus()}get pageDataSelector(){return this._pageDataSelector}get isControlDisabled(){return!this.keyReplay.paused}ngAfterViewInit(){this.initialize()}ngOnDestroy(){this.$destroyed.next(),this.$destroyed.complete()}initialize(){if(!this.recorderElement)throw hn(this.recorderId);if(!this.recordControl)throw fn(this.recorderId);this.addEventListeners(),this.registerRecordableComponent(),this.currentFocusedComponent.pipe(S(t=>this.recorderId==t)).subscribe(t=>{this.isSelectedComponent=t,this.isSelectedComponent&&this.keyReplay.setControl(this.recordControl,this.recorderId),this.$componentSelected.emit()}),this.sharedActions.resetComponents$.pipe(P(this.$destroyed)).subscribe(t=>{(t&&t==this.recorderId||!t)&&(this.recordControl.reset(),this.recordControl.setValue(""))}),this.inRecordingPage||this.recordControl.disable()}testKeyDown(t){console.log(`INPUT :: ${this.recorderId}`,t)}addEventListeners(){this.recorderElement.nativeElement.onkeypress=this.onKeyDown.bind(this),this.recorderElement.nativeElement.onclick=this.onMouseDown.bind(this),this.recorderElement.nativeElement.onselect=this.onDragEnter.bind(this)}onInputEvent(t){let i=t;console.log(i.data,i.detail)}registerRecordableComponent(){this.store.dispatch(h.registerRecordableComponent({componentId:this.recorderId,component:!0}))}componentSelected(){this.isSelectedComponent||this.store.dispatch(h.setFocusRecordableComponent({componentId:this.recorderId}))}onKeyDown(t){this.canRecordKeys(t),this.keyStrokeRecorder.recordAction(t,this.recorderId),t.code=="Enter"}onMouseDown(t){if(this.isControlDisabled||!this.isReadyToRecord()){t.preventDefault();return}let i=t.target;i.selectionStart=i.value.length}canRecordKeys(t){let i=this.keyStrokeRecorder.checkKeyValid(t.code,t.ctrlKey),r=this.checkIfAtEnd(t.target.selectionStart);return this.isReadyToRecord()&&this.isSelectedComponent&&r&&i&&!this.isControlDisabled}isReadyToRecord(){return this.inRecordingPage&&this.keyStrokeRecorder.isRecording}checkIfAtEnd(t){return t==this.recordControl.value.length}focusControl(){this.recorderElement.nativeElement.focus()}resetControls(){this.recordControl&&this.recordControl.reset()}onDragEnter(t){t.preventDefault(),t.target.selectionStart=t.target.value.length}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["ng-component"]],viewQuery:function(i,r){if(i&1&&Ve(wi,5),i&2){let a;Fe(a=Se())&&(r.recorderElement=a.first)}},hostBindings:function(i,r){i&1&&v("click",function(f){return r._onFocus(f)})},inputs:{recorderId:[0,"recorder-id","recorderId"]},outputs:{$componentSelected:"selected"},standalone:!1,decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})();var _n=(()=>{class e extends $e{constructor(){super()}ngAfterViewInit(){super.ngAfterViewInit()}onFocus(){this.componentSelected()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["atmah-diary"]],features:[M],decls:53,vars:1,consts:[["diaryTextarea","","recorderInput",""],[1,"diary-book-container"],[1,"diary-hard-cover"],[1,"diary-main-content"],[1,"page-decorations"],[1,"hinges"],["src","assets/decorations/hinge.svg","alt",""],[1,"background-image"],[1,"journal-title-container"],[1,"time"],[1,"title"],[1,"writeable-area-container"],[1,"text-area"],[1,"book-lines"],[1,"vertical-line"],[1,"horizontal-lines"],["id","","cols","30","spellcheck","false",3,"formControl"]],template:function(i,r){i&1&&(d(0,"div",1),_(1,"div",2),d(2,"div",3)(3,"div",4)(4,"div",5),_(5,"img",6)(6,"img",6)(7,"img",6)(8,"img",6)(9,"img",6)(10,"img",6)(11,"img",6)(12,"img",6)(13,"img",6),l(),_(14,"div",7),l(),d(15,"div",8)(16,"p",9),k(17,"12th January, 2023"),l(),d(18,"p",10),k(19,"Atmah Diary; where the soul speaks"),l()(),d(20,"div",11)(21,"div",12)(22,"div",13)(23,"div",14),_(24,"hr"),l(),d(25,"div",15),_(26,"hr")(27,"hr")(28,"hr")(29,"hr")(30,"hr")(31,"hr")(32,"hr")(33,"hr")(34,"hr")(35,"hr")(36,"hr")(37,"hr")(38,"hr")(39,"hr")(40,"hr")(41,"hr")(42,"hr")(43,"hr")(44,"hr")(45,"hr")(46,"hr")(47,"hr")(48,"hr")(49,"hr"),l()(),_(50,"textarea",16,0),l()()()()),i&2&&(V(50),y("formControl",r.recordControl))},dependencies:[Ge,se,je,Ce],styles:[".diary-book-container[_ngcontent-%COMP%]{display:flex;align-self:center;justify-self:center;width:620px;height:760px;background-color:#fff;position:relative}.diary-book-container[_ngcontent-%COMP%]   .diary-hard-cover[_ngcontent-%COMP%]{position:absolute;border-radius:14px;background-color:#353535;width:calc(100% - 14px);height:100%;box-shadow:10px 10px 26px #0003,-20px -13px 32px #0003}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]{display:flex;width:calc(100% - 14px);height:calc(100% - 14px);border-radius:12px;background-color:#eaeaea;position:absolute;bottom:0;right:0;color:var(--text-color);flex-direction:column}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .page-decorations[_ngcontent-%COMP%]{border-radius:12px;position:absolute;width:100%;height:100%}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .page-decorations[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-image:url(/assets/textures/paper-1.jpg);background-size:60%;background-blend-mode:multiply;opacity:.4;border-radius:12px}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .page-decorations[_ngcontent-%COMP%]   .hinges[_ngcontent-%COMP%]{position:absolute;top:36px;left:-28px;display:flex;flex-direction:column;gap:58px;z-index:100}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .journal-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:210px;font-size:16px;gap:6px;height:48px;width:100%;align-items:flex-end;justify-content:space-between;padding-right:32px;padding-left:72px;z-index:100;font-family:IM Fell English SC,cursive}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;font-family:IM Fell English,cursive}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]   .horizontal-lines[_ngcontent-%COMP%]{position:absolute;width:100%;top:0;left:0}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]   .horizontal-lines[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-bottom:1px dashed var(--text-color);height:28px}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{position:absolute;top:-48px;width:100%;height:calc(100% + 48px);display:flex;flex-direction:row}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-right:4px double var(--text-color);height:100%;width:56px}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:100%;line-height:28px;font-size:18px;padding:8px 4px 4px 62px;text-wrap:pretty;text-decoration:none;background:transparent;border:none;resize:none;outline:none;font-family:Indie Flower,cursive;font-weight:600}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{font-family:Indie Flower,cursive;font-weight:600;color:#000}@media only screen and (max-width: 599px){.diary-book-container[_ngcontent-%COMP%]{width:100%;height:100%}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]{width:100%;background-color:unset}.diary-book-container[_ngcontent-%COMP%]   .diary-main-content[_ngcontent-%COMP%]   .journal-title-container[_ngcontent-%COMP%], .diary-book-container[_ngcontent-%COMP%]   .diary-hard-cover[_ngcontent-%COMP%], .diary-book-container[_ngcontent-%COMP%]   .page-decorations[_ngcontent-%COMP%]{display:none}.diary-book-container[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]{padding:0!important}.diary-book-container[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   .book-lines[_ngcontent-%COMP%]{display:none}.diary-book-container[_ngcontent-%COMP%]   .writeable-area-container[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:16px 0!important}}"]})}}return e})();var Oi=["titleArea"],yn=(()=>{class e extends $e{constructor(t){super(),this.renderer=t}ngAfterViewInit(){super.ngAfterViewInit()}onFocus(){this.componentSelected()}static{this.\u0275fac=function(i){return new(i||e)(C(ue))}}static{this.\u0275cmp=g({type:e,selectors:[["atmah-chapter-title"]],viewQuery:function(i,r){if(i&1&&Ve(Oi,5),i&2){let a;Fe(a=Se())&&(r.titleTextArea=a.first)}},features:[M],decls:8,vars:1,consts:[["recorderInput",""],[1,"chapter-title-container"],[1,"chapter-title"],[1,"titleWrapper"],[1,"title-date"],["maxlength","40","placeholder","title...",1,"title",3,"formControl"]],template:function(i,r){i&1&&(d(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),k(4,"12 January, 2023"),l(),d(5,"textarea",5,0),k(7,"      "),l()()()()),i&2&&(V(5),y("formControl",r.recordControl))},dependencies:[Ge,se,je,st,Ce],styles:[".chapter-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]{text-align:right;width:70%;min-width:360px;font-family:IM Fell English,serif;-webkit-user-select:none;user-select:none}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:right;font-size:36px;font-family:IM Fell English,serif;border:none;text-decoration:none;resize:none;outline:none;width:100%;min-width:310px;transition:all ease .4s;overflow:hidden;background:transparent}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:disabled{color:#000}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]   .title-date[_ngcontent-%COMP%]{margin-top:8px;font-size:18px}.chapter-title-container[_ngcontent-%COMP%]   .media-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end;width:100%;min-width:300px;margin-top:8px}@media only screen and (max-width: 599px){[_nghost-%COMP%]{width:100%}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]{text-align:left;width:100%}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;font-family:IM Fell English,cursive;text-align:left;vertical-align:middle;background-color:transparent}.chapter-title-container[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]   .title-date[_ngcontent-%COMP%]{margin-top:0;font-size:14px}.chapter-title-container[_ngcontent-%COMP%]   .media-controls[_ngcontent-%COMP%]{align-items:start}}"]})}}return e})();var B=(()=>{class e{get currentSpeed(){return this._replayService.speed}get isPaused(){return this._replayService.paused}get isRecording(){return this._recorderService.isRecording}get isCompleted(){return this._replayCompleted}constructor(){this._replayCompleted=!1,this._replayService=c(x),this._recorderService=c(T),this._sharedAction=c(He)}startRecording(){this._recorderService.startRecording()}stopRecording(){this._recorderService.stopRecording()}fastForward(){this._replayService.fastForward()}fastBackward(){this._replayService.fastBackward()}replay(){this._sharedAction.resetAllComponents(),this.play()}restartedReplay(){this._replayCompleted=!1}replayCompleted(){this._replayCompleted=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();var Cn=(()=>{class e{get recording(){return this.mediaController.isRecording}get notrecording(){return!this.mediaController.isRecording}constructor(t){this.mediaController=t}static{this.\u0275fac=function(i){return new(i||e)(C(B))}}static{this.\u0275cmp=g({type:e,selectors:[["atmah-recording-indicator"]],hostVars:4,hostBindings:function(i,r){i&2&&xe("recording",r.recording)("not-recording",r.notrecording)},decls:3,vars:0,consts:[[1,"recording-cricle"],[1,"recording-text"]],template:function(i,r){i&1&&(_(0,"div",0),d(1,"p",1),k(2,"recording..."),l())},styles:["[_nghost-%COMP%]{display:inline-flex;gap:6px;font-family:Indie Flower,cursive;justify-content:right;align-items:center;width:100%;transition:all ease-in-out .35s}[_nghost-%COMP%]   .recording-cricle[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:7px;background-color:red}.recording[_nghost-%COMP%]{transform:translateY(0);opacity:1}@media only screen and (max-width: 599px){.recording[_nghost-%COMP%]{transform:translateY(calc(-100vh + 90px))}}.not-recording[_nghost-%COMP%]{transform:translateY(56px);opacity:0}@media only screen and (max-width: 599px){.not-recording[_nghost-%COMP%]{transform:translateY(-100vh)}}"]})}}return e})();var F=(()=>{class e{constructor(){this.disabled=!1,this.clicked=new R}onClick(){this.clicked.emit()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=g({type:e,selectors:[["atmah-media-button"]],inputs:{disabled:"disabled"},outputs:{clicked:"clicked"},standalone:!1,decls:0,vars:0,template:function(i,r){},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]})}}return e})();var Mn=(()=>{class e extends F{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=O(e)))(r||e)}})()}static{this.\u0275cmp=g({type:e,selectors:[["atmah-play-button"]],standalone:!1,features:[M],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-play.svg","alt",""]],template:function(i,r){i&1&&(d(0,"button",0),v("click",function(){return r.onClick()}),_(1,"img",1),l()),i&2&&y("disabled",r.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]})}}return e})();var bn=(()=>{class e extends F{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=O(e)))(r||e)}})()}static{this.\u0275cmp=g({type:e,selectors:[["atmah-pause-button"]],standalone:!1,features:[M],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-pause.svg","alt",""]],template:function(i,r){i&1&&(d(0,"button",0),v("click",function(){return r.onClick()}),_(1,"img",1),l()),i&2&&y("disabled",r.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]})}}return e})();var Dn=(()=>{class e extends F{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=O(e)))(r||e)}})()}static{this.\u0275cmp=g({type:e,selectors:[["atmah-fast-forward-button"]],standalone:!1,features:[M],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-fforward.svg","alt",""]],template:function(i,r){i&1&&(d(0,"button",0),v("click",function(){return r.onClick()}),_(1,"img",1),l()),i&2&&y("disabled",r.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]})}}return e})();var En=(()=>{class e extends F{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=O(e)))(r||e)}})()}static{this.\u0275cmp=g({type:e,selectors:[["atmah-fast-backward-button"]],standalone:!1,features:[M],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-fbackward.svg","alt",""]],template:function(i,r){i&1&&(d(0,"button",0),v("click",function(){return r.onClick()}),_(1,"img",1),l()),i&2&&y("disabled",r.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]})}}return e})();var wn=(()=>{class e extends F{constructor(){super(...arguments),this.onRecord=new R,this.onStop=new R,this.recording=!1,this.recordingColor="#B91F1F",this.nonRecordingColor="#000000"}get buttonColor(){return this.recording?this.recordingColor:this.nonRecordingColor}onClick(){this.recording?this.onStop.emit():this.onRecord.emit(),this.recording=!this.recording}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=O(e)))(r||e)}})()}static{this.\u0275cmp=g({type:e,selectors:[["atmah-record-button"]],outputs:{onRecord:"onRecord",onStop:"onStop"},standalone:!1,features:[M],decls:4,vars:3,consts:[[3,"click","disabled"],["width","40","height","39","viewBox","0 0 40 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15.4403 23.6369C12.7962 20.8784 15.9811 16.0205 18.6849 14.7511C26.3909 14.328 25.9853 20.2518 24.7686 22.7906C23.8617 24.6829 19.4961 27.8682 15.4403 23.6369Z"],["d","M8.44884 8.22957C5.61551 9.89623 0.448845 15.1296 2.44884 22.7296C4.94884 32.2296 12.9488 35.7296 14.9488 35.7296C16.9488 35.7296 26.4488 39.7296 33.4488 30.2296C40.4488 20.7296 36.9488 13.7296 35.4488 11.2296C33.9488 8.72957 28.4488 2.22957 24.4488 2.22957C20.4488 2.22957 9.44884 -0.270432 4.44884 11.2296M18.6849 14.7511C15.9811 16.0205 12.7962 20.8784 15.4403 23.6369C19.4961 27.8682 23.8617 24.6829 24.7686 22.7906C25.9853 20.2518 26.3909 14.328 18.6849 14.7511Z","stroke-width","3","stroke-linecap","round"]],template:function(i,r){i&1&&(d(0,"button",0),v("click",function(){return r.onClick()}),bt(),d(1,"svg",1),_(2,"path",2)(3,"path",3),l()()),i&2&&(y("disabled",r.disabled),V(2),pe("fill",r.buttonColor),V(),pe("stroke",r.buttonColor))},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}","svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:all ease-in-out .2s}"]})}}return e})();var On=(()=>{class e extends F{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=O(e)))(r||e)}})()}static{this.\u0275cmp=g({type:e,selectors:[["atmah-replay-button"]],standalone:!1,features:[M],decls:2,vars:1,consts:[[3,"click","disabled"],["src","assets/icons/icon-replay.svg","alt",""]],template:function(i,r){i&1&&(d(0,"button",0),v("click",function(){return r.onClick()}),_(1,"img",1),l()),i&2&&y("disabled",r.disabled)},styles:["button[_ngcontent-%COMP%]{border:none;background-color:transparent;transition:all ease-in-out .2s;width:35px;height:35px;position:relative;animation:.3s ease-out 0s 1 _ngcontent-%COMP%_entryAnimation}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:35px;height:35px;transition:all ease-in-out .2s}button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{filter:invert(.2);width:30px;height:30px}button[_ngcontent-%COMP%]:disabled:hover{cursor:not-allowed}@keyframes _ngcontent-%COMP%_entryAnimation{0%{transform:scale(0%)}90%{transform:scale(1.2)}to{transform:scale(1)}}"]})}}return e})();function Ai(e,n){if(e&1){let t=he();d(0,"atmah-play-button",6),v("clicked",function(){te(t);let r=j();return ne(r.onPlayClick())}),l()}if(e&2){let t=j();y("disabled",t.isRecording)}}function Ii(e,n){if(e&1){let t=he();d(0,"atmah-pause-button",1),v("clicked",function(){te(t);let r=j();return ne(r.onPauseClick())}),l()}}function ki(e,n){if(e&1){let t=he();d(0,"atmah-replay-button",6),v("clicked",function(){te(t);let r=j();return ne(r.onReplayClick())}),l()}if(e&2){let t=j();y("disabled",t.isRecording)}}function Ni(e,n){if(e&1){let t=he();d(0,"atmah-record-button",7),v("onRecord",function(){te(t);let r=j();return ne(r.onStartRecording())})("onStop",function(){te(t);let r=j();return ne(r.onStopRecording())}),l()}if(e&2){let t=j();y("disabled",!t.isPaused)}}var xn=(()=>{class e{get isPaused(){return this._mediaControl.isPaused}get isRecording(){return this._mediaControl.isRecording}get speed(){return this._mediaControl.currentSpeed}get canRecord(){return this._isInEditMode}isCompleted(){return this._mediaControl.isCompleted}constructor(t,i=!1){this._mediaControl=t,this._isInEditMode=i}onPlayClick(){this.isPaused&&this._mediaControl.play()}onPauseClick(){this.isPaused||this._mediaControl.pause()}onFForwardClick(){this._mediaControl.fastForward()}onFBackwardClick(){this._mediaControl.fastBackward()}onStartRecording(){!this.canRecord&&!this.isPaused||this._mediaControl.startRecording()}onStopRecording(){this._mediaControl.stopRecording()}onReplayClick(){this.isRecording||this._mediaControl.replay()}static{this.\u0275fac=function(i){return new(i||e)(C(B),C(J,8))}}static{this.\u0275cmp=g({type:e,selectors:[["atmah-media-control"]],standalone:!1,decls:9,vars:5,consts:[[1,"controls"],[3,"clicked"],[3,"disabled","clicked",4,"ngIf"],[3,"clicked",4,"ngIf"],[3,"disabled","onRecord","onStop",4,"ngIf"],[1,"speed-control"],[3,"clicked","disabled"],[3,"onRecord","onStop","disabled"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"atmah-fast-backward-button",1),v("clicked",function(){return r.onFBackwardClick()}),l(),Je(2,Ai,1,1,"atmah-play-button",2)(3,Ii,1,0,"atmah-pause-button",3)(4,ki,1,1,"atmah-replay-button",2),d(5,"atmah-fast-forward-button",1),v("clicked",function(){return r.onFForwardClick()}),l(),Je(6,Ni,1,1,"atmah-record-button",4),l(),d(7,"div",5),k(8),l()),i&2&&(V(2),y("ngIf",r.isPaused&&!r.isCompleted()),V(),y("ngIf",!r.isPaused&&!r.isCompleted()),V(),y("ngIf",r.isCompleted()),V(2),y("ngIf",r.canRecord),V(2),wt("speed ",r.speed,"x"))},dependencies:[Ot,Mn,bn,Dn,En,wn,On],styles:[".controls[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:12px}.speed-control[_ngcontent-%COMP%]{margin-top:4px;font-family:Indie Flower,cursive;font-weight:400;font-size:12px;text-align:right}"]})}}return e})();var Vn=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=q({imports:[xt]})}}return e})();var G=(()=>{class e{constructor(){this._dispose=new E,this.replayService=c(x),this.recorderService=c(T),this.diaryStore=c(N),this.dispose$=this._dispose.asObservable()}dispose(){this._dispose.next()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();var be=(()=>{class e{constructor(t,i){this.routeData=t,this.diaryService=i}ngAfterViewInit(){console.log(navigator.userAgent),this.diaryService.initialize()}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||e)(C(Ft),C(G))}}static{this.\u0275cmp=g({type:e,selectors:[["view-diary"]],decls:9,vars:0,consts:[[1,"page-container"],[1,"media-controls-container"],[1,"media-controls"],[1,"title-container"],["recorder-id","title-component"],[1,"diary-container"],["recorder-id","diary-component"],[1,"right-spacer"]],template:function(i,r){i&1&&(d(0,"atmah-full-page-container",0)(1,"div",1),_(2,"atmah-recording-indicator")(3,"atmah-media-control",2),l(),d(4,"div",3),_(5,"atmah-chapter-title",4),l(),d(6,"div",5),_(7,"atmah-diary",6),l(),_(8,"div",7),l())},dependencies:[Rt,_n,yn,Vn,xn,Cn],styles:['[_nghost-%COMP%]{--title-height: 90px;--media-control-height: 70px}.page-container[_ngcontent-%COMP%]{display:grid}.media-controls-container[_ngcontent-%COMP%]{grid-column:1;grid-row:1;justify-content:end}.title-container[_ngcontent-%COMP%]{grid-column:1;grid-row:2;justify-content:start}.diary-container[_ngcontent-%COMP%]{grid-column:2;grid-row:1/span 2}.right-spacer[_ngcontent-%COMP%]{grid-column:3}.diary-container[_ngcontent-%COMP%]{display:flex;flex:2;height:100%;align-items:center;justify-content:center}.title-container[_ngcontent-%COMP%]{flex:2;height:fit-content;align-self:center;padding-right:36px;height:100%;display:inline-flex;flex-direction:column;align-items:end}.media-controls-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:end;height:100%;align-self:center;padding-right:36px}.right-spacer[_ngcontent-%COMP%]{flex:1}@media only screen and (max-width: 599px){.page-container[_ngcontent-%COMP%]{display:grid;overflow:hidden;padding:16px}.media-controls-container[_ngcontent-%COMP%]{grid-column:1;grid-row:3;height:var(--media-control-height);padding:0;align-items:center;width:100%;z-index:3}.title-container[_ngcontent-%COMP%]{grid-column:1;grid-row:1;padding-right:0;justify-self:start;height:var(--title-height);width:100%;padding-top:16px;z-index:3}.diary-container[_ngcontent-%COMP%]{display:block;grid-column:1;grid-row:2;height:calc(100dvh - var(--media-control-height) - var(--title-height));margin-top:-14px;position:relative}.diary-container[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;height:74px;width:100%;background-color:red;z-index:2;bottom:-30px;background:linear-gradient(0deg,#fff 0% 42%,#fff0)}.diary-container[_ngcontent-%COMP%]:before{display:block;content:"";position:absolute;height:64px;width:100%;background:linear-gradient(180deg,#fff 0% 42%,#fff0);z-index:2;top:-24px}.right-spacer[_ngcontent-%COMP%]{display:none}}']})}}return e})();var Fn=[{path:"view",component:be,providers:[{provide:J,useValue:!1}]},{path:"edit",component:be,providers:[{provide:J,useValue:!0}]},{path:"**",redirectTo:"view"}];var s=function(e){return e.Backspace="Backspace",e.Enter="Enter",e.Escape="Escape",e.Space="Space",e.Digit0="Digit0",e.Digit1="Digit1",e.Digit2="Digit2",e.Digit3="Digit3",e.Digit4="Digit4",e.Digit5="Digit5",e.Digit6="Digit6",e.Digit7="Digit7",e.Digit8="Digit8",e.Digit9="Digit9",e.KeyA="KeyA",e.KeyB="KeyB",e.KeyC="KeyC",e.KeyD="KeyD",e.KeyE="KeyE",e.KeyF="KeyF",e.KeyG="KeyG",e.KeyH="KeyH",e.KeyI="KeyI",e.KeyJ="KeyJ",e.KeyK="KeyK",e.KeyL="KeyL",e.KeyM="KeyM",e.KeyN="KeyN",e.KeyO="KeyO",e.KeyP="KeyP",e.KeyQ="KeyQ",e.KeyR="KeyR",e.KeyS="KeyS",e.KeyT="KeyT",e.KeyU="KeyU",e.KeyV="KeyV",e.KeyW="KeyW",e.KeyX="KeyX",e.KeyY="KeyY",e.KeyZ="KeyZ",e.Numpad0="Numpad0",e.Numpad1="Numpad1",e.Numpad2="Numpad2",e.Numpad3="Numpad3",e.Numpad4="Numpad4",e.Numpad5="Numpad5",e.Numpad6="Numpad6",e.Numpad7="Numpad7",e.Numpad8="Numpad8",e.Numpad9="Numpad9",e.NumpadMultiply="NumpadMultiply",e.NumpadAdd="NumpadAdd",e.NumpadSubtract="NumpadSubtract",e.NumpadDecimal="NumpadDecimal",e.NumpadDivide="NumpadDivide",e.Semicolon="Semicolon",e.Equal="Equal",e.Comma="Comma",e.Minus="Minus",e.Period="Period",e.Slash="Slash",e.Backquote="Backquote",e.BracketLeft="BracketLeft",e.Backslash="Backslash",e.BracketRight="BracketRight",e.Quote="Quote",e}(s||{}),o=function(e){return e.Backspace="Backspace",e.Tab="Tab",e.Enter="Enter",e.ShiftLeft="ShiftLeft",e.ShiftRight="ShiftRight",e.ControlLeft="ControlLeft",e.ControlRight="ControlRight",e.AltLeft="AltLeft",e.AltRight="AltRight",e.CapsLock="CapsLock",e.Escape="Escape",e.Space="Space",e.PageUp="PageUp",e.PageDown="PageDown",e.End="End",e.Home="Home",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Insert="Insert",e.Delete="Delete",e.Digit0="Digit0",e.Digit1="Digit1",e.Digit2="Digit2",e.Digit3="Digit3",e.Digit4="Digit4",e.Digit5="Digit5",e.Digit6="Digit6",e.Digit7="Digit7",e.Digit8="Digit8",e.Digit9="Digit9",e.KeyA="KeyA",e.KeyB="KeyB",e.KeyC="KeyC",e.KeyD="KeyD",e.KeyE="KeyE",e.KeyF="KeyF",e.KeyG="KeyG",e.KeyH="KeyH",e.KeyI="KeyI",e.KeyJ="KeyJ",e.KeyK="KeyK",e.KeyL="KeyL",e.KeyM="KeyM",e.KeyN="KeyN",e.KeyO="KeyO",e.KeyP="KeyP",e.KeyQ="KeyQ",e.KeyR="KeyR",e.KeyS="KeyS",e.KeyT="KeyT",e.KeyU="KeyU",e.KeyV="KeyV",e.KeyW="KeyW",e.KeyX="KeyX",e.KeyY="KeyY",e.KeyZ="KeyZ",e.Numpad0="Numpad0",e.Numpad1="Numpad1",e.Numpad2="Numpad2",e.Numpad3="Numpad3",e.Numpad4="Numpad4",e.Numpad5="Numpad5",e.Numpad6="Numpad6",e.Numpad7="Numpad7",e.Numpad8="Numpad8",e.Numpad9="Numpad9",e.NumpadMultiply="NumpadMultiply",e.NumpadAdd="NumpadAdd",e.NumpadSubtract="NumpadSubtract",e.NumpadDecimal="NumpadDecimal",e.NumpadDivide="NumpadDivide",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.NumLock="NumLock",e.ScrollLock="ScrollLock",e.Semicolon="Semicolon",e.Equal="Equal",e.Comma="Comma",e.Minus="Minus",e.Period="Period",e.Slash="Slash",e.Backquote="Backquote",e.BracketLeft="BracketLeft",e.Backslash="Backslash",e.BracketRight="BracketRight",e.Quote="Quote",e.IntlBackslash="IntlBackslash",e.ContextMenu="ContextMenu",e}(o||{});var Gs=new Map([[o.Backspace,"\b"],[o.Tab,"   "],[o.Enter,"\r"],[o.IntlBackslash,"\\"]]),le=new Map([[s.Backspace,"\b"],[s.Enter,"\r"],[s.Escape,"q"],[s.Space," "],[s.Digit0,"0"],[s.Digit1,"1"],[s.Digit2,"2"],[s.Digit3,"3"],[s.Digit4,"4"],[s.Digit5,"5"],[s.Digit6,"6"],[s.Digit7,"7"],[s.Digit8,"8"],[s.Digit9,"9"],[s.KeyA,"a"],[s.KeyB,"b"],[s.KeyC,"c"],[s.KeyD,"d"],[s.KeyE,"e"],[s.KeyF,"f"],[s.KeyG,"g"],[s.KeyH,"h"],[s.KeyI,"i"],[s.KeyJ,"j"],[s.KeyK,"k"],[s.KeyL,"l"],[s.KeyM,"m"],[s.KeyN,"n"],[s.KeyO,"o"],[s.KeyP,"p"],[s.KeyQ,"q"],[s.KeyR,"r"],[s.KeyS,"s"],[s.KeyT,"t"],[s.KeyU,"u"],[s.KeyV,"v"],[s.KeyW,"w"],[s.KeyX,"x"],[s.KeyY,"y"],[s.KeyZ,"z"],[s.Numpad0,"0"],[s.Numpad1,"1"],[s.Numpad2,"2"],[s.Numpad3,"3"],[s.Numpad4,"4"],[s.Numpad5,"5"],[s.Numpad6,"6"],[s.Numpad7,"7"],[s.Numpad8,"8"],[s.Numpad9,"9"],[s.NumpadMultiply,"*"],[s.NumpadAdd,"+"],[s.NumpadSubtract,"-"],[s.NumpadDecimal,"."],[s.NumpadDivide,"/"],[s.Semicolon,";"],[s.Equal,"="],[s.Comma,","],[s.Minus,"-"],[s.Period,"."],[s.Slash,"/"],[s.Backquote,"`"],[s.BracketLeft,"["],[s.Backslash,"\\"],[s.BracketRight,"]"],[s.Quote,"'"]]),Hs={[o.Backspace]:"\b",[o.Tab]:"	",[o.Enter]:"e",[o.ShiftLeft]:"",[o.ShiftRight]:"",[o.ControlLeft]:"",[o.ControlRight]:"",[o.AltLeft]:"",[o.AltRight]:"",[o.CapsLock]:"",[o.Escape]:"q",[o.Space]:" ",[o.PageUp]:"",[o.PageDown]:"",[o.End]:"",[o.Home]:"",[o.ArrowLeft]:"",[o.ArrowUp]:"",[o.ArrowRight]:"",[o.ArrowDown]:"",[o.Insert]:"",[o.Delete]:"",[o.Digit0]:"0",[o.Digit1]:"1",[o.Digit2]:"2",[o.Digit3]:"3",[o.Digit4]:"4",[o.Digit5]:"5",[o.Digit6]:"6",[o.Digit7]:"7",[o.Digit8]:"8",[o.Digit9]:"9",[o.KeyA]:"a",[o.KeyB]:"b",[o.KeyC]:"c",[o.KeyD]:"d",[o.KeyE]:"e",[o.KeyF]:"f",[o.KeyG]:"g",[o.KeyH]:"h",[o.KeyI]:"i",[o.KeyJ]:"j",[o.KeyK]:"k",[o.KeyL]:"l",[o.KeyM]:"m",[o.KeyN]:"n",[o.KeyO]:"o",[o.KeyP]:"p",[o.KeyQ]:"q",[o.KeyR]:"r",[o.KeyS]:"s",[o.KeyT]:"t",[o.KeyU]:"u",[o.KeyV]:"v",[o.KeyW]:"w",[o.KeyX]:"x",[o.KeyY]:"y",[o.KeyZ]:"z",[o.Numpad0]:"0",[o.Numpad1]:"1",[o.Numpad2]:"2",[o.Numpad3]:"3",[o.Numpad4]:"4",[o.Numpad5]:"5",[o.Numpad6]:"6",[o.Numpad7]:"7",[o.Numpad8]:"8",[o.Numpad9]:"9",[o.NumpadMultiply]:"*",[o.NumpadAdd]:"+",[o.NumpadSubtract]:"-",[o.NumpadDecimal]:".",[o.NumpadDivide]:"/",[o.F1]:"",[o.F2]:"",[o.F3]:"",[o.F4]:"",[o.F5]:"",[o.F6]:"",[o.F7]:"",[o.F8]:"",[o.F9]:"",[o.F10]:"",[o.F11]:"",[o.F12]:"",[o.NumLock]:"",[o.ScrollLock]:"",[o.Semicolon]:";",[o.Equal]:"=",[o.Comma]:",",[o.Minus]:"-",[o.Period]:".",[o.Slash]:"/",[o.Backquote]:"`",[o.BracketLeft]:"[",[o.Backslash]:"\\",[o.BracketRight]:"]",[o.Quote]:"'",[o.IntlBackslash]:"\\",[o.ContextMenu]:""};function Sn(e,n){return Math.floor(Math.random()*(n-e+1)+e)}var Ke=class{constructor(){this.keyboardSoundMap=new Map,this.loadedSounds=new Map}initService(){this.loadAllSounds()}loadAllSounds(){this.keyboardSoundMap.forEach((n,t)=>{n.forEach(i=>{let r=this.loadedSounds.get(t),a=new Audio(i);a.load(),r?this.loadedSounds.get(t).push(a):this.loadedSounds.set(t,[a])})})}addSound(n,t){let i=this.keyboardSoundMap.get(n);i?i.push(t):this.keyboardSoundMap.set(n,[t])}playSound(n,t=!0){if(!this.keyboardSoundMap.has(n)){console.error("NO SOUND FOUND FOR ",n);return}let i=this.loadedSounds.get(n),r=i.at(Sn(0,i.length-1));r||console.warn("Sound random errored"),r?.play()}};var D=function(e){return e[e.NORMAL_KEY=0]="NORMAL_KEY",e[e.BACKSPACE_KEY=1]="BACKSPACE_KEY",e[e.ENTER_KEY=2]="ENTER_KEY",e}(D||{});var qe=(()=>{class e extends Ke{constructor(){super(),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key1.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key2.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key3.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key8.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key4.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key5.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key6.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key7.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key9.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key10.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key11.mp3"),this.addSound(D.NORMAL_KEY,"assets/sounds/keyboard/key12.mp3"),this.addSound(D.ENTER_KEY,"assets/sounds/keyboard/enter.mp3"),this.addSound(D.BACKSPACE_KEY,"assets/sounds/keyboard/backspace.mp3")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Pn=(()=>{class e extends x{get waitTime(){return this.recordEvent.keyData[this._currentWaitIndex].w/this.speedX}get done(){return this.hasRecordEvent&&this._currentCharacterIndex>=this.recordEvent.keyData.length}constructor(){super(),this._currentWaitIndex=0,this._currentCharacterIndex=0,this._soundService=c(qe)}initService(){this._soundService.initService()}setControl(t,i){this.control=t}startReplay(){if(!(this.hasFormControl&&this.hasRecordEvent)||this.done){this.pauseReplay(),!this.done&&!this.hasRecordEvent&&console.error("Something is not right");return}setTimeout(()=>{this.performTyping()},this.waitTime)}resetReplay(){this.recordEvent=A,this.control=Me,this._isPaused.next(!0)}getKeyStrokeData(){}playKeystrokeSound(t){if(!(this.speed>4||this.waitTime<=50))switch(t){case le.get(s.Backspace):this._soundService.playSound(D.BACKSPACE_KEY);break;case le.get(s.Enter):this._soundService.playSound(D.ENTER_KEY);break;default:this._soundService.playSound(D.NORMAL_KEY);break}}performTyping(){if(this.paused)return;let t=this.recordEvent.keyData[this._currentCharacterIndex].k,i=this.control.value;if(this.playKeystrokeSound(t),t==le.get(s.Backspace)?i=i.slice(0,i.length-1):i=this.control.value+t,this.control.setValue(i),this._currentCharacterIndex++,this._currentWaitIndex++,this.done){this._currentCharacterIndex=0,this._currentWaitIndex=0,this.recordEventCompleted();return}setTimeout(()=>{this.performTyping()},this.waitTime)}speedControl(t){return Math.min(Math.max(t,1/4),8)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();function Rn(e){return e&&e.length==1&&e.charCodeAt(0)>=97&&e.charCodeAt(0)<=122}var An=(()=>{class e extends T{constructor(){super(),this._lastActionTime=-1,this.pageData={keyData:[],componentId:L},this.canRecord$.subscribe(t=>{t&&(this._lastActionTime=Date.now())})}recordAction(t,i){if(!this.isRecording)return;let r=Date.now(),a=Math.max(10,Math.min(r-this._lastActionTime,5e3)),[f,I]=this.recordKey(t.code,a,t.shiftKey);this.nextRecordEvent(i,f,I),this._lastActionTime=Date.now()}recordKey(t,i,r=!1,a=!1){let f=le.get(t);return r&&Rn(f)&&(f=f?.toUpperCase()),[f,i]}checkKeyValid(t,i=!1){return Object.values(s).includes(t)&&!i}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();var In=(()=>{class e extends Ae{constructor(t){super(),this.title=t,this.titleMap=new Map([["edit","Atmah | Editing "],["view","Atmah | Viewing "]])}updateTitle(t){let i=this.buildTitle(t);this.title.setTitle(`My App - ${i}`)}static{this.\u0275fac=function(i){return new(i||e)(W(Vt))}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();var kn=(()=>{class e extends G{constructor(){super(),this.pageData={keyData:[],componentId:L}}ngOnDestroy(){this.dispose()}initialize(){this.replayService.initService(),this.replayService.$recordEventCompleted.pipe(P(this.dispose$)).subscribe(()=>{this.diaryStore.dispatch(h.recordEventCompleted())}),this.recorderService.newRecordEvent$.pipe(P(this.dispose$)).subscribe(({component:t,key:i})=>{this.addRecordEvent(t,i)})}getNextRecordEvent(){return this.diaryStore.pipe(ee(1),Bt(U.selectRecordEvent))}createNewPageData(t){this.pageData={keyData:[],componentId:t}}addRecordEvent(t,i){this.pageData.componentId!=t&&(this.saveRecordEvent(),this.createNewPageData(t)),this.pageData.keyData.push(i)}saveRecordEvent(){this.pageData.componentId!=L&&this.diaryStore.dispatch(h.recordEventAction({data:this.pageData}))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ji={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},We="__@ngrx/effects_create__";function H(e,n={}){let t=n.functional?e:e(),i=m(m({},ji),n);return Object.defineProperty(t,We,{value:i}),t}function Li(e){return Object.getOwnPropertyNames(e).filter(i=>e[i]&&e[i].hasOwnProperty(We)?e[i][We].hasOwnProperty("dispatch"):!1).map(i=>{let r=e[i][We];return m({propertyName:i},r)})}function Ui(e){return Li(e)}function Nn(e){return Object.getPrototypeOf(e)}function Gi(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function Tn(e){return typeof e=="function"}function Hi(e){return e.filter(Tn)}function $i(e,n,t){let i=Nn(e),a=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,f=Ui(e).map(({propertyName:I,dispatch:Hn,useEffectsErrorHandler:$n})=>{let dt=typeof e[I]=="function"?e[I]():e[I],ut=$n?t(dt,n):dt;return Hn===!1?ut.pipe(_t()):ut.pipe(vt()).pipe(S(Kn=>({effect:e[I],notification:Kn,propertyName:I,sourceName:a,sourceInstance:e})))});return Ye(...f)}var Ki=10;function Bn(e,n,t=Ki){return e.pipe(gt(i=>(n&&n.handleError(i),t<=1?e:Bn(e,n,t-1))))}var $=(()=>{class e extends pt{constructor(t){super(),t&&(this.source=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}static{this.\u0275fac=function(i){return new(i||e)(W(Tt))}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function K(...e){return De(n=>e.some(t=>typeof t=="string"?t===n.type:t.type===n.type))}var Ba=new w("@ngrx/effects Internal Root Guard"),ja=new w("@ngrx/effects User Provided Effects"),La=new w("@ngrx/effects Internal Root Effects"),Ua=new w("@ngrx/effects Internal Root Effects Instances"),Ga=new w("@ngrx/effects Internal Feature Effects"),Ha=new w("@ngrx/effects Internal Feature Effects Instance Groups"),qi=new w("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Bn}),Wi="@ngrx/effects/init",zi=At(Wi);function Yi(e,n){if(e.notification.kind==="N"){let t=e.notification.value;!Qi(t)&&n.handleError(new Error(`Effect ${Xi(e)} dispatched an invalid action: ${Zi(t)}`))}}function Qi(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Xi({propertyName:e,sourceInstance:n,sourceName:t}){let i=typeof n[e]=="function";return!!t?`"${t}.${String(e)}${i?"()":""}"`:`"${String(e)}()"`}function Zi(e){try{return JSON.stringify(e)}catch{return e}}var Ji="ngrxOnIdentifyEffects";function er(e){return ct(e,Ji)}var tr="ngrxOnRunEffects";function nr(e){return ct(e,tr)}var ir="ngrxOnInitEffects";function rr(e){return ct(e,ir)}function ct(e,n){return e&&n in e&&typeof e[n]=="function"}var jn=(()=>{class e extends E{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(Qe(t=>Gi(t)?Nn(t):t),ze(t=>t.pipe(Qe(or))),ze(t=>{let i=t.pipe(Ee(a=>sr(this.errorHandler,this.effectsErrorHandler)(a)),S(a=>(Yi(a,this.errorHandler),a.notification)),De(a=>a.kind==="N"&&a.value!=null),yt()),r=t.pipe(ee(1),De(rr),S(a=>a.ngrxOnInitEffects()));return Ye(i,r)}))}static{this.\u0275fac=function(i){return new(i||e)(W(Dt),W(qi))}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function or(e){return er(e)?e.ngrxOnIdentifyEffects():""}function sr(e,n){return t=>{let i=$i(t,e,n);return nr(t)?t.ngrxOnRunEffects(i):i}}var ar=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(i){return new(i||e)(W(jn),W(N))}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ln(...e){let n=e.flat(),t=Hi(n);return Ct([t,Mt(()=>{c(kt),c(Nt,{optional:!0});let i=c(ar),r=c(jn),a=!i.isStarted;a&&i.start();for(let f of n){let I=Tn(f)?c(f):f;r.addEffects(I)}a&&c(N).dispatch(zi())})])}var lt={};qn(lt,{diaryReplayCompleted:()=>dr,recordEventCompleted:()=>cr,resumeDiaryReplay:()=>pr,setFocusedComponent:()=>mr,setNextRecordEvent:()=>lr,startDiaryReplay:()=>ur,startRecording:()=>hr,stopRecording:()=>fr});var cr=H((e=c($),n=c(G))=>e.pipe(K(h.recordEventCompleted),Ee(()=>n.getNextRecordEvent().pipe(S(t=>t!=A?h.setNextRecordEvent({data:t}):h.diaryReplayCompleted())))),{functional:!0}),lr=H((e=c($),n=c(x))=>e.pipe(K(h.setNextRecordEvent),de(t=>{n.setRecordEvent(t.data),n.play()})),{functional:!0,dispatch:!1}),dr=H((e=c($),n=c(B),t=c(x))=>e.pipe(K(h.diaryReplayCompleted),de(()=>{n.pause(),t.resetReplay(),n.replayCompleted()})),{functional:!0,dispatch:!1}),ur=H((e=c($))=>e.pipe(K(h.startDiaryReplay),S(()=>h.resumeDiaryReplay())),{functional:!0,dispatch:!0}),pr=H((e=c($),n=c(x))=>e.pipe(K(h.resumeDiaryReplay),de(()=>{n.play()})),{functional:!0,dispatch:!1}),hr=H((e=c($))=>e.pipe(K(h.startRecording)),{functional:!0,dispatch:!1}),fr=H((e=c($),n=c(G))=>e.pipe(K(h.stopRecording),de(()=>{n.saveRecordEvent(),n.createNewPageData(L)})),{functional:!0,dispatch:!1}),mr=H((e=c($))=>e.pipe(K(h.setFocusRecordableComponent)),{functional:!0,dispatch:!1});var Un=(()=>{class e extends B{constructor(){super(),this.store=c(N)}play(){this._replayService.hasRecordEvent?this._replayService.play():(this.restartedReplay(),this.store.select(U.selectRecordEvent).pipe(ee(1)).subscribe(t=>{this._replayService.setRecordEvent(t??A,!1),this.replay()}),this.store.dispatch(h.startDiaryReplay()))}pause(){this._replayService.pauseReplay()}stopRecording(){super.stopRecording(),this.store.dispatch(h.stopRecording())}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();var Gn=(()=>{class e extends ce{constructor(){super(),this.listeners=new Map,this.type="physical"}registerKeyDown(t,i){t.nativeElement.onkeydown=r=>{let a={key:r.code,type:this.type,ctrl:r.ctrlKey,shift:r.shiftKey,alt:r.altKey};i(a)},this.listeners.set(t.nativeElement,i)}registerKeyUp(t,i){throw new Error("Method not implemented.")}registerEnter(t,i){throw new Error("Method not implemented.")}destroyAll(){this.listeners.forEach((t,i)=>{i.nativeElement.onkeydown=null,i.nativeElement.onkeyup=null})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=u({token:e,factory:e.\u0275fac})}}return e})();var Fc=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=q({providers:[{provide:x,useClass:Pn},{provide:T,useClass:An},{provide:Ae,useClass:In},{provide:G,useClass:kn},{provide:B,useClass:Un},{provide:ce,useClass:Gn},qe,St(Fn),Lt(U),Ln(lt)],imports:[be,Pt]})}}return e})();export{Fc as DiaryViewModule};
